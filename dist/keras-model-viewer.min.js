!function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var e={};__webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=17)}([function(t,e,n){var r;try{r=n(12)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){"use strict";function addDummyNode(t,e,n,i){var a;do{a=r.uniqueId(i)}while(t.hasNode(a));return n.dummy=e,t.setNode(a,n),a}function simplify(t){var e=(new i).setGraph(t.graph());return r.each(t.nodes(),function(n){e.setNode(n,t.node(n))}),r.each(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e}function asNonCompoundGraph(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.each(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),r.each(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e}function successorWeights(t){var e=r.map(t.nodes(),function(e){var n={};return r.each(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)}function predecessorWeights(t){var e=r.map(t.nodes(),function(e){var n={};return r.each(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return r.zipObject(t.nodes(),e)}function intersectRect(t,e){var n=t.x,r=t.y,i=e.x-n,a=e.y-r,o=t.width/2,s=t.height/2;if(!i&&!a)throw new Error("Not possible to find intersection inside of the rectangle");var u,h;return Math.abs(a)*o>Math.abs(i)*s?(a<0&&(s=-s),u=s*i/a,h=s):(i<0&&(o=-o),u=o,h=o*a/i),{x:n+u,y:r+h}}function buildLayerMatrix(t){var e=r.map(r.range(maxRank(t)+1),function(){return[]});return r.each(t.nodes(),function(n){var i=t.node(n),a=i.rank;r.isUndefined(a)||(e[a][i.order]=n)}),e}function normalizeRanks(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank}));r.each(t.nodes(),function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)})}function removeEmptyRanks(t){var e=r.min(r.map(t.nodes(),function(e){return t.node(e).rank})),n=[];r.each(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var i=0,a=t.graph().nodeRankFactor;r.each(n,function(e,n){r.isUndefined(e)&&n%a!=0?--i:i&&r.each(e,function(e){t.node(e).rank+=i})})}function addBorderNode(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),addDummyNode(t,"border",i,e)}function maxRank(t){return r.max(r.map(t.nodes(),function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n}))}function partition(t,e){var n={lhs:[],rhs:[]};return r.each(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n}function time(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}}function notime(t,e){return e()}var r=n(0),i=n(3).Graph;t.exports={addDummyNode:addDummyNode,simplify:simplify,asNonCompoundGraph:asNonCompoundGraph,successorWeights:successorWeights,predecessorWeights:predecessorWeights,intersectRect:intersectRect,buildLayerMatrix:buildLayerMatrix,normalizeRanks:normalizeRanks,removeEmptyRanks:removeEmptyRanks,addBorderNode:addBorderNode,maxRank:maxRank,partition:partition,time:time,notime:notime}},function(t,e,n){var r;try{r=n(12)}catch(t){}r||(r=window._),t.exports=r},function(t,e,n){var r;try{r=n(42)}catch(t){}r||(r=window.graphlib),t.exports=r},function(t,e,n){"use strict";function longestPath(t){function dfs(n){var i=t.node(n);if(r.has(e,n))return i.rank;e[n]=!0;var a=r.min(r.map(t.outEdges(n),function(e){return dfs(e.w)-t.edge(e).minlen}));return a===Number.POSITIVE_INFINITY&&(a=0),i.rank=a}var e={};r.each(t.sources(),dfs)}function slack(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}var r=n(0);t.exports={longestPath:longestPath,slack:slack}},function(t,e,n){"use strict";function Graph(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[a]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function incrementOrInitEntry(t,e){t[e]?t[e]++:t[e]=1}function decrementOrRemoveEntry(t,e){--t[e]||delete t[e]}function edgeArgsToId(t,e,n,a){var s=""+e,u=""+n;if(!t&&s>u){var h=s;s=u,u=h}return s+o+u+o+(r.isUndefined(a)?i:a)}function edgeArgsToObj(t,e,n,r){var i=""+e,a=""+n;if(!t&&i>a){var o=i;i=a,a=o}var s={v:i,w:a};return r&&(s.name=r),s}function edgeObjToId(t,e){return edgeArgsToId(t,e.v,e.w,e.name)}var r=n(2);t.exports=Graph;var i="\0",a="\0",o="";Graph.prototype._nodeCount=0,Graph.prototype._edgeCount=0,Graph.prototype.isDirected=function(){return this._isDirected},Graph.prototype.isMultigraph=function(){return this._isMultigraph},Graph.prototype.isCompound=function(){return this._isCompound},Graph.prototype.setGraph=function(t){return this._label=t,this},Graph.prototype.graph=function(){return this._label},Graph.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},Graph.prototype.nodeCount=function(){return this._nodeCount},Graph.prototype.nodes=function(){return r.keys(this._nodes)},Graph.prototype.sources=function(){return r.filter(this.nodes(),function(t){return r.isEmpty(this._in[t])},this)},Graph.prototype.sinks=function(){return r.filter(this.nodes(),function(t){return r.isEmpty(this._out[t])},this)},Graph.prototype.setNodes=function(t,e){var n=arguments;return r.each(t,function(t){n.length>1?this.setNode(t,e):this.setNode(t)},this),this},Graph.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=a,this._children[t]={},this._children[a][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},Graph.prototype.node=function(t){return this._nodes[t]},Graph.prototype.hasNode=function(t){return r.has(this._nodes,t)},Graph.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),function(t){this.setParent(t)},this),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},Graph.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=a;else{e+="";for(var n=e;!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},Graph.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},Graph.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==a)return e}},Graph.prototype.children=function(t){if(r.isUndefined(t)&&(t=a),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===a)return this.nodes();if(this.hasNode(t))return[]}},Graph.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},Graph.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},Graph.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},Graph.prototype.filterNodes=function(t){function findParent(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(i[t]=r,r):r in i?i[r]:findParent(r)}var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph()),r.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)},this),r.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,this.edge(t))},this);var n=this,i={};return this._isCompound&&r.each(e.nodes(),function(t){e.setParent(t,findParent(t))}),e},Graph.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},Graph.prototype.edgeCount=function(){return this._edgeCount},Graph.prototype.edges=function(){return r.values(this._edgeObjs)},Graph.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r}),this},Graph.prototype.setEdge=function(){var t,e,n,i,a=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(i=arguments[1],a=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var s=edgeArgsToId(this._isDirected,t,e,n);if(r.has(this._edgeLabels,s))return a&&(this._edgeLabels[s]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=a?i:this._defaultEdgeLabelFn(t,e,n);var u=edgeArgsToObj(this._isDirected,t,e,n);return t=u.v,e=u.w,Object.freeze(u),this._edgeObjs[s]=u,incrementOrInitEntry(this._preds[e],t),incrementOrInitEntry(this._sucs[t],e),this._in[e][s]=u,this._out[t][s]=u,this._edgeCount++,this},Graph.prototype.edge=function(t,e,n){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,n);return this._edgeLabels[r]},Graph.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},Graph.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],decrementOrRemoveEntry(this._preds[e],t),decrementOrRemoveEntry(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},Graph.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.v===e}):i}},Graph.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,function(t){return t.w===e}):i}},Graph.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){"use strict";function feasibleTree(t){var e=new i({directed:!1}),n=t.nodes()[0],r=t.nodeCount();e.setNode(n,{});for(var o,s;tightTree(e,t)<r;)o=findMinSlackEdge(e,t),s=e.hasNode(o.v)?a(t,o):-a(t,o),shiftRanks(e,t,s);return e}function tightTree(t,e){function dfs(n){r.each(e.nodeEdges(n),function(r){var i=r.v,o=n===i?r.w:i;t.hasNode(o)||a(e,r)||(t.setNode(o,{}),t.setEdge(n,o,{}),dfs(o))})}return r.each(t.nodes(),dfs),t.nodeCount()}function findMinSlackEdge(t,e){return r.min(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return a(e,n)})}function shiftRanks(t,e,n){r.each(t.nodes(),function(t){e.node(t).rank+=n})}var r=n(0),i=n(3).Graph,a=n(4).slack;t.exports=feasibleTree},function(t,e,n){function dfs(t,e,n){r.isArray(e)||(e=[e]);var i=[],a={};return r.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);doDfs(t,e,"post"===n,a,i)}),i}function doDfs(t,e,n,i,a){r.has(i,e)||(i[e]=!0,n||a.push(e),r.each(t.neighbors(e),function(e){doDfs(t,e,n,i,a)}),n&&a.push(e))}var r=n(2);t.exports=dfs},function(t,e,n){function dijkstra(t,e,n,r){return runDijkstra(t,String(e),n||a,r||function(e){return t.outEdges(e)})}function runDijkstra(t,e,n,r){var a,o,s={},u=new i,h=function(t){var e=t.v!==a?t.v:t.w,r=s[e],i=n(t),h=o.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);h<r.distance&&(r.distance=h,r.predecessor=a,u.decrease(e,h))};for(t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},u.add(t,n)});u.size()>0&&(a=u.removeMin(),o=s[a],o.distance!==Number.POSITIVE_INFINITY);)r(a).forEach(h);return s}var r=n(2),i=n(11);t.exports=dijkstra;var a=r.constant(1)},function(t,e,n){function tarjan(t){function dfs(o){var s=i[o]={onStack:!0,lowlink:e,index:e++};if(n.push(o),t.successors(o).forEach(function(t){r.has(i,t)?i[t].onStack&&(s.lowlink=Math.min(s.lowlink,i[t].index)):(dfs(t),s.lowlink=Math.min(s.lowlink,i[t].lowlink))}),s.lowlink===s.index){var u,h=[];do{u=n.pop(),i[u].onStack=!1,h.push(u)}while(o!==u);a.push(h)}}var e=0,n=[],i={},a=[];return t.nodes().forEach(function(t){r.has(i,t)||dfs(t)}),a}var r=n(2);t.exports=tarjan},function(t,e,n){function topsort(t){function visit(a){if(r.has(n,a))throw new CycleException;r.has(e,a)||(n[a]=!0,e[a]=!0,r.each(t.predecessors(a),visit),delete n[a],i.push(a))}var e={},n={},i=[];if(r.each(t.sinks(),visit),r.size(e)!==t.nodeCount())throw new CycleException;return i}function CycleException(){}var r=n(2);t.exports=topsort,topsort.CycleException=CycleException},function(t,e,n){function PriorityQueue(){this._arr=[],this._keyIndices={}}var r=n(2);t.exports=PriorityQueue,PriorityQueue.prototype.size=function(){return this._arr.length},PriorityQueue.prototype.keys=function(){return this._arr.map(function(t){return t.key})},PriorityQueue.prototype.has=function(t){return r.has(this._keyIndices,t)},PriorityQueue.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},PriorityQueue.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},PriorityQueue.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,a=i.length;return n[t]=a,i.push({key:t,priority:e}),this._decrease(a),!0}return!1},PriorityQueue.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},PriorityQueue.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},PriorityQueue.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},PriorityQueue.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&(e=t>>1,!(n[e].priority<r));)this._swap(t,e),t=e},PriorityQueue.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],a=n[e];n[t]=a,n[e]=i,r[a.key]=t,r[i.key]=e}},function(t,e,n){(function(t,r){var i;(function(){function baseCompareAscending(t,e){if(t!==e){var n=null===t,r=t===a,i=t===t,o=null===e,s=e===a,u=e===e;if(t>e&&!o||!i||n&&!s&&u||r&&u)return 1;if(t<e&&!n||!u||o&&!r&&i||s&&i)return-1}return 0}function baseFindIndex(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function baseIndexOf(t,e,n){if(e!==e)return indexOfNaN(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function baseIsFunction(t){return"function"==typeof t||!1}function baseToString(t){return null==t?"":t+""}function charsLeftIndex(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function charsRightIndex(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function compareAscending(t,e){return baseCompareAscending(t.criteria,e.criteria)||t.index-e.index}function compareMultiple(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var u=baseCompareAscending(i[r],a[r]);if(u){if(r>=s)return u;var h=n[r];return u*("asc"===h||!0===h?1:-1)}}return t.index-e.index}function deburrLetter(t){return kt[t]}function escapeHtmlChar(t){return Ct[t]}function escapeRegExpChar(t,e,n){return e?t=Nt[t]:n&&(t=St[t]),"\\"+t}function escapeStringChar(t){return"\\"+St[t]}function indexOfNaN(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var a=t[i];if(a!==a)return i}return-1}function isObjectLike(t){return!!t&&"object"==typeof t}function isSpace(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function replaceHolders(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;)t[n]===e&&(t[n]=C,a[++i]=n);return a}function sortedUniq(t,e){for(var n,r=-1,i=t.length,a=-1,o=[];++r<i;){var s=t[r],u=e?e(s,r,t):s;r&&n===u||(n=u,o[++a]=s)}return o}function trimmedLeftIndex(t){for(var e=-1,n=t.length;++e<n&&isSpace(t.charCodeAt(e)););return e}function trimmedRightIndex(t){for(var e=t.length;e--&&isSpace(t.charCodeAt(e)););return e}function unescapeHtmlChar(t){return Et[t]}function runInContext(t){function lodash(t){if(isObjectLike(t)&&!ln(t)&&!(t instanceof LazyWrapper)){if(t instanceof LodashWrapper)return t;if(Mt.call(t,"__chain__")&&Mt.call(t,"__wrapped__"))return wrapperClone(t)}return new LodashWrapper(t)}function baseLodash(){}function LodashWrapper(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function LazyWrapper(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ue,this.__views__=[]}function lazyClone(){var t=new LazyWrapper(this.__wrapped__);return t.__actions__=arrayCopy(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=arrayCopy(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=arrayCopy(this.__views__),t}function lazyReverse(){if(this.__filtered__){var t=new LazyWrapper(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function lazyValue(){var t=this.__wrapped__.value(),e=this.__dir__,n=ln(t),r=e<0,i=n?t.length:0,a=getView(0,i,this.__views__),o=a.start,s=a.end,u=s-o,h=r?s:o-1,l=this.__iteratees__,c=l.length,f=0,d=re(u,this.__takeCount__);if(!n||i<x||i==u&&d==u)return baseWrapperValue(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;u--&&f<d;){h+=e;for(var g=-1,m=t[h];++g<c;){var v=l[g],y=v.iteratee,b=v.type,k=y(m);if(b==_)m=k;else if(!k){if(b==w)continue t;break t}}p[f++]=m}return p}function MapCache(){this.__data__={}}function mapDelete(t){return this.has(t)&&delete this.__data__[t]}function mapGet(t){return"__proto__"==t?a:this.__data__[t]}function mapHas(t){return"__proto__"!=t&&Mt.call(this.__data__,t)}function mapSet(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function SetCache(t){var e=t?t.length:0;for(this.data={hash:Qt(null),set:new Ut};e--;)this.push(t[e])}function cacheIndexOf(t,e){var n=t.data;return("string"==typeof e||isObject(e)?n.set.has(e):n.hash[e])?0:-1}function cachePush(t){var e=this.data;"string"==typeof t||isObject(t)?e.set.add(t):e.hash[t]=!0}function arrayConcat(t,n){for(var r=-1,i=t.length,a=-1,o=n.length,s=e(i+o);++r<i;)s[r]=t[r];for(;++a<o;)s[r++]=n[a];return s}function arrayCopy(t,n){var r=-1,i=t.length;for(n||(n=e(i));++r<i;)n[r]=t[r];return n}function arrayEach(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function arrayEachRight(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t}function arrayEvery(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function arrayExtremum(t,e,n,r){for(var i=-1,a=t.length,o=r,s=o;++i<a;){var u=t[i],h=+e(u);n(h,o)&&(o=h,s=u)}return s}function arrayFilter(t,e){for(var n=-1,r=t.length,i=-1,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[++i]=o)}return a}function arrayMap(t,n){for(var r=-1,i=t.length,a=e(i);++r<i;)a[r]=n(t[r],r,t);return a}function arrayPush(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function arrayReduce(t,e,n,r){var i=-1,a=t.length;for(r&&a&&(n=t[++i]);++i<a;)n=e(n,t[i],i,t);return n}function arrayReduceRight(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function arraySome(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function arraySum(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function assignDefaults(t,e){return t===a?e:t}function assignOwnDefaults(t,e,n,r){return t!==a&&Mt.call(r,n)?t:e}function assignWith(t,e,n){for(var r=-1,i=wn(e),o=i.length;++r<o;){var s=i[r],u=t[s],h=n(u,e[s],s,t,e);(h===h?h===u:u!==u)&&(u!==a||s in t)||(t[s]=h)}return t}function baseAssign(t,e){return null==e?t:baseCopy(e,wn(e),t)}function baseAt(t,n){for(var r=-1,i=null==t,o=!i&&isArrayLike(t),s=o?t.length:0,u=n.length,h=e(u);++r<u;){var l=n[r];h[r]=o?isIndex(l,s)?t[l]:a:i?a:t[l]}return h}function baseCopy(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var a=e[r];n[a]=t[a]}return n}function baseCallback(t,e,n){var r=typeof t;return"function"==r?e===a?t:bindCallback(t,e,n):null==t?identity:"object"==r?baseMatches(t):e===a?property(t):baseMatchesProperty(t,e)}function baseClone(t,e,n,r,i,o,s){var u;if(n&&(u=i?n(t,r,i):n(t)),u!==a)return u;if(!isObject(t))return t;var h=ln(t);if(h){if(u=initCloneArray(t),!e)return arrayCopy(t,u)}else{var l=Tt.call(t),c=l==I;if(l!=O&&l!=E&&(!c||i))return _t[l]?initCloneByTag(t,l,e):i?t:{};if(u=initCloneObject(c?{}:t),!e)return baseAssign(u,t)}o||(o=[]),s||(s=[]);for(var f=o.length;f--;)if(o[f]==t)return s[f];return o.push(t),s.push(u),(h?arrayEach:baseForOwn)(t,function(r,i){u[i]=baseClone(r,e,n,i,t,o,s)}),u}function baseDelay(t,e,n){if("function"!=typeof t)throw new St(k);return Xt(function(){t.apply(a,n)},e)}function baseDifference(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,a=getIndexOf(),o=a==baseIndexOf,s=o&&e.length>=x?createCache(e):null,u=e.length;s&&(a=cacheIndexOf,o=!1,e=s);t:for(;++i<n;){var h=t[i];if(o&&h===h){for(var l=u;l--;)if(e[l]===h)continue t;r.push(h)}else a(e,h,0)<0&&r.push(h)}return r}function baseEvery(t,e){var n=!0;return me(t,function(t,r,i){return n=!!e(t,r,i)}),n}function baseExtremum(t,e,n,r){var i=r,a=i;return me(t,function(t,o,s){var u=+e(t,o,s);(n(u,i)||u===r&&u===a)&&(i=u,a=t)}),a}function baseFill(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===a||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function baseFilter(t,e){var n=[];return me(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function baseFind(t,e,n,r){var i;return n(t,function(t,n,a){if(e(t,n,a))return i=r?n:t,!1}),i}function baseFlatten(t,e,n,r){r||(r=[]);for(var i=-1,a=t.length;++i<a;){var o=t[i];isObjectLike(o)&&isArrayLike(o)&&(n||ln(o)||isArguments(o))?e?baseFlatten(o,e,n,r):arrayPush(r,o):n||(r[r.length]=o)}return r}function baseForIn(t,e){return ye(t,e,keysIn)}function baseForOwn(t,e){return ye(t,e,wn)}function baseForOwnRight(t,e){return be(t,e,wn)}function baseFunctions(t,e){for(var n=-1,r=e.length,i=-1,a=[];++n<r;){var o=e[n];isFunction(t[o])&&(a[++i]=o)}return a}function baseGet(t,e,n){if(null!=t){n!==a&&n in toObject(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:a}}function baseIsEqual(t,e,n,r,i,a){return t===e||(null==t||null==e||!isObject(t)&&!isObjectLike(e)?t!==t&&e!==e:baseIsEqualDeep(t,e,baseIsEqual,n,r,i,a))}function baseIsEqualDeep(t,e,n,r,i,a,o){var s=ln(t),u=ln(e),h=A,l=A;s||(h=Tt.call(t),h==E?h=O:h!=O&&(s=isTypedArray(t))),u||(l=Tt.call(e),l==E?l=O:l!=O&&(u=isTypedArray(e)));var c=h==O,f=l==O,d=h==l;if(d&&!s&&!c)return equalByTag(t,e,h);if(!i){var p=c&&Mt.call(t,"__wrapped__"),g=f&&Mt.call(e,"__wrapped__");if(p||g)return n(p?t.value():t,g?e.value():e,r,i,a,o)}if(!d)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==t)return o[m]==e;a.push(t),o.push(e);var v=(s?equalArrays:equalObjects)(t,e,n,r,i,a,o);return a.pop(),o.pop(),v}function baseIsMatch(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=toObject(t);r--;){var s=e[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){s=e[r];var u=s[0],h=t[u],l=s[1];if(o&&s[2]){if(h===a&&!(u in t))return!1}else{var c=n?n(h,l,u):a;if(!(c===a?baseIsEqual(l,h,n,!0):c))return!1}}return!0}function baseMap(t,n){var r=-1,i=isArrayLike(t)?e(t.length):[];return me(t,function(t,e,a){i[++r]=n(t,e,a)}),i}function baseMatches(t){var e=getMatchData(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==a||n in toObject(t)))}}return function(t){return baseIsMatch(t,e)}}function baseMatchesProperty(t,e){var n=ln(t),r=isKey(t)&&isStrictComparable(e),i=t+"";return t=toPath(t),function(o){if(null==o)return!1;var s=i;if(o=toObject(o),(n||!r)&&!(s in o)){if(null==(o=1==t.length?o:baseGet(o,baseSlice(t,0,-1))))return!1;s=last(t),o=toObject(o)}return o[s]===e?e!==a||s in o:baseIsEqual(e,o[s],a,!0)}}function baseMerge(t,e,n,r,i){if(!isObject(t))return t;var o=isArrayLike(e)&&(ln(e)||isTypedArray(e)),s=o?a:wn(e);return arrayEach(s||e,function(u,h){if(s&&(h=u,u=e[h]),isObjectLike(u))r||(r=[]),i||(i=[]),baseMergeDeep(t,e,h,baseMerge,n,r,i);else{var l=t[h],c=n?n(l,u,h,t,e):a,f=c===a;f&&(c=u),c===a&&(!o||h in t)||!f&&(c===c?c===l:l!==l)||(t[h]=c)}}),t}function baseMergeDeep(t,e,n,r,i,o,s){for(var u=o.length,h=e[n];u--;)if(o[u]==h)return void(t[n]=s[u]);var l=t[n],c=i?i(l,h,n,t,e):a,f=c===a;f&&(c=h,isArrayLike(h)&&(ln(h)||isTypedArray(h))?c=ln(l)?l:isArrayLike(l)?arrayCopy(l):[]:isPlainObject(h)||isArguments(h)?c=isArguments(l)?toPlainObject(l):isPlainObject(l)?l:{}:f=!1),o.push(h),s.push(c),f?t[n]=r(c,h,i,o,s):(c===c?c!==l:l===l)&&(t[n]=c)}function baseProperty(t){return function(e){return null==e?a:e[t]}}function basePropertyDeep(t){var e=t+"";return t=toPath(t),function(n){return baseGet(n,t,e)}}function basePullAt(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&isIndex(r)){var i=r;Yt.call(t,r,1)}}return t}function baseRandom(t,e){return t+Zt(oe()*(e-t+1))}function baseReduce(t,e,n,r,i){return i(t,function(t,i,a){n=r?(r=!1,t):e(n,t,i,a)}),n}function baseSlice(t,n,r){var i=-1,o=t.length;n=null==n?0:+n||0,n<0&&(n=-n>o?0:o+n),r=r===a||r>o?o:+r||0,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=e(o);++i<o;)s[i]=t[i+n];return s}function baseSome(t,e){var n;return me(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function baseSortBy(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function baseSortByOrder(t,e,n){var r=getCallback(),i=-1;return e=arrayMap(e,function(t){return r(t)}),baseSortBy(baseMap(t,function(t){return{criteria:arrayMap(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return compareMultiple(t,e,n)})}function baseSum(t,e){var n=0;return me(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function baseUniq(t,e){var n=-1,r=getIndexOf(),i=t.length,a=r==baseIndexOf,o=a&&i>=x,s=o?createCache():null,u=[];s?(r=cacheIndexOf,a=!1):(o=!1,s=e?[]:u);t:for(;++n<i;){var h=t[n],l=e?e(h,n,t):h;if(a&&h===h){for(var c=s.length;c--;)if(s[c]===l)continue t;e&&s.push(l),u.push(h)}else r(s,l,0)<0&&((e||o)&&s.push(l),u.push(h))}return u}function baseValues(t,n){for(var r=-1,i=n.length,a=e(i);++r<i;)a[r]=t[n[r]];return a}function baseWhile(t,e,n,r){for(var i=t.length,a=r?i:-1;(r?a--:++a<i)&&e(t[a],a,t););return n?baseSlice(t,r?0:a,r?a+1:i):baseSlice(t,r?a+1:0,r?i:a)}function baseWrapperValue(t,e){var n=t;n instanceof LazyWrapper&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var a=e[r];n=a.func.apply(a.thisArg,arrayPush([n],a.args))}return n}function binaryIndex(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=ce){for(;r<i;){var a=r+i>>>1,o=t[a];(n?o<=e:o<e)&&null!==o?r=a+1:i=a}return i}return binaryIndexBy(t,e,identity,n)}function binaryIndexBy(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,s=e!==e,u=null===e,h=e===a;i<o;){var l=Zt((i+o)/2),c=n(t[l]),f=c!==a,d=c===c;if(s)var p=d||r;else p=u?d&&f&&(r||null!=c):h?d&&(r||f):null!=c&&(r?c<=e:c<e);p?i=l+1:o=l}return re(o,le)}function bindCallback(t,e,n){if("function"!=typeof t)return identity;if(e===a)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,a){return t.call(e,n,r,i,a)};case 5:return function(n,r,i,a,o){return t.call(e,n,r,i,a,o)}}return function(){return t.apply(e,arguments)}}function bufferClone(t){var e=new Wt(t.byteLength);return new Ht(e).set(new Ht(t)),e}function composeArgs(t,n,r){for(var i=r.length,a=-1,o=ne(t.length-i,0),s=-1,u=n.length,h=e(u+o);++s<u;)h[s]=n[s];for(;++a<i;)h[r[a]]=t[a];for(;o--;)h[s++]=t[a++];return h}function composeArgsRight(t,n,r){for(var i=-1,a=r.length,o=-1,s=ne(t.length-a,0),u=-1,h=n.length,l=e(s+h);++o<s;)l[o]=t[o];for(var c=o;++u<h;)l[c+u]=n[u];for(;++i<a;)l[c+r[i]]=t[o++];return l}function createAggregator(t,e){return function(n,r,i){var a=e?e():{};if(r=getCallback(r,i,3),ln(n))for(var o=-1,s=n.length;++o<s;){var u=n[o];t(a,u,r(u,o,n),n)}else me(n,function(e,n,i){t(a,e,r(e,n,i),i)});return a}}function createAssigner(t){return restParam(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:a,s=i>2?n[2]:a,u=i>1?n[i-1]:a;for("function"==typeof o?(o=bindCallback(o,u,5),i-=2):(o="function"==typeof u?u:a,i-=o?1:0),s&&isIterateeCall(n[0],n[1],s)&&(o=i<3?a:o,i=1);++r<i;){var h=n[r];h&&t(e,h,o)}return e})}function createBaseEach(t,e){return function(n,r){var i=n?_e(n):0;if(!isLength(i))return t(n,r);for(var a=e?i:-1,o=toObject(n);(e?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function createBaseFor(t){return function(e,n,r){for(var i=toObject(e),a=r(e),o=a.length,s=t?o:-1;t?s--:++s<o;){var u=a[s];if(!1===n(i[u],u,i))break}return e}}function createBindWrapper(t,e){function wrapper(){return(this&&this!==jt&&this instanceof wrapper?n:t).apply(e,arguments)}var n=createCtorWrapper(t);return wrapper}function createCache(t){return Qt&&Ut?new SetCache(t):null}function createCompounder(t){return function(e){for(var n=-1,r=words(deburr(e)),i=r.length,a="";++n<i;)a=t(a,r[n],n);return a}}function createCtorWrapper(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=ge(t.prototype),r=t.apply(n,e);return isObject(r)?r:n}}function createCurry(t){function curryFunc(e,n,r){r&&isIterateeCall(e,n,r)&&(n=a);var i=createWrapper(e,t,a,a,a,a,a,n);return i.placeholder=curryFunc.placeholder,i}return curryFunc}function createDefaults(t,e){return restParam(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(a,n))})}function createExtremum(t,e){return function(n,r,i){if(i&&isIterateeCall(n,r,i)&&(r=a),r=getCallback(r,i,3),1==r.length){n=ln(n)?n:toIterable(n);var o=arrayExtremum(n,r,t,e);if(!n.length||o!==e)return o}return baseExtremum(n,r,t,e)}}function createFind(t,e){return function(n,r,i){if(r=getCallback(r,i,3),ln(n)){var o=baseFindIndex(n,r,e);return o>-1?n[o]:a}return baseFind(n,r,t)}}function createFindIndex(t){return function(e,n,r){return e&&e.length?(n=getCallback(n,r,3),baseFindIndex(e,n,t)):-1}}function createFindKey(t){return function(e,n,r){return n=getCallback(n,r,3),baseFind(e,n,t,!0)}}function createFlow(t){return function(){for(var n,r=arguments.length,i=t?r:-1,o=0,s=e(r);t?i--:++i<r;){var u=s[o++]=arguments[i];if("function"!=typeof u)throw new St(k);!n&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(u)&&(n=new LodashWrapper([],!0))}for(i=n?-1:r;++i<r;){u=s[i];var h=getFuncName(u),c="wrapper"==h?we(u):a;n=c&&isLaziable(c[0])&&c[1]==(p|l|f|g)&&!c[4].length&&1==c[9]?n[getFuncName(c[0])].apply(n,c[3]):1==u.length&&isLaziable(u)?n[h]():n.thru(u)}return function(){var t=arguments,e=t[0];if(n&&1==t.length&&ln(e)&&e.length>=x)return n.plant(e).value();for(var i=0,a=r?s[i].apply(this,t):e;++i<r;)a=s[i].call(this,a);return a}}}function createForEach(t,e){return function(n,r,i){return"function"==typeof r&&i===a&&ln(n)?t(n,r):e(n,bindCallback(r,i,3))}}function createForIn(t){return function(e,n,r){return"function"==typeof n&&r===a||(n=bindCallback(n,r,3)),t(e,n,keysIn)}}function createForOwn(t){return function(e,n,r){return"function"==typeof n&&r===a||(n=bindCallback(n,r,3)),t(e,n)}}function createObjectMapper(t){return function(e,n,r){var i={};return n=getCallback(n,r,3),baseForOwn(e,function(e,r,a){var o=n(e,r,a);r=t?o:r,e=t?e:o,i[r]=e}),i}}function createPadDir(t){return function(e,n,r){return e=baseToString(e),(t?e:"")+createPadding(e,n,r)+(t?"":e)}}function createPartial(t){var e=restParam(function(n,r){var i=replaceHolders(r,e.placeholder);return createWrapper(n,t,a,r,i)});return e}function createReduce(t,e){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===a&&ln(n)?t(n,r,i,s):baseReduce(n,getCallback(r,o,4),i,s,e)}}function createHybridWrapper(t,n,r,i,o,g,m,v,y,b){function wrapper(){for(var h=arguments.length,l=h,c=e(h);l--;)c[l]=arguments[l];if(i&&(c=composeArgs(c,i,o)),g&&(c=composeArgsRight(c,g,m)),k||E){var p=wrapper.placeholder,N=replaceHolders(c,p);if((h-=N.length)<b){var S=v?arrayCopy(v):a,P=ne(b-h,0),I=k?N:a,L=k?a:N,O=k?c:a,M=k?a:c;n|=k?f:d,n&=~(k?d:f),C||(n&=~(s|u));var j=[t,n,r,O,I,M,L,S,y,P],z=createHybridWrapper.apply(a,j);return isLaziable(t)&&ke(z,j),z.placeholder=p,z}}var R=w?r:this,T=_?R[t]:t;return v&&(c=reorder(c,v)),x&&y<c.length&&(c.length=y),this&&this!==jt&&this instanceof wrapper&&(T=A||createCtorWrapper(t)),T.apply(R,c)}var x=n&p,w=n&s,_=n&u,k=n&l,C=n&h,E=n&c,A=_?a:createCtorWrapper(t);return wrapper}function createPadding(t,e,n){var r=t.length;if(e=+e,r>=e||!te(e))return"";var i=e-r;return n=null==n?" ":n+"",repeat(n,Kt(i/n.length)).slice(0,i)}function createPartialWrapper(t,n,r,i){function wrapper(){for(var n=-1,s=arguments.length,u=-1,h=i.length,l=e(h+s);++u<h;)l[u]=i[u];for(;s--;)l[u++]=arguments[++n];return(this&&this!==jt&&this instanceof wrapper?o:t).apply(a?r:this,l)}var a=n&s,o=createCtorWrapper(t);return wrapper}function createRound(t){var e=kt[t];return function(t,n){return n=n===a?0:+n||0,n?(n=qt(10,n),e(t*n)/n):e(t)}}function createSortedIndex(t){return function(e,n,r,i){var a=getCallback(r);return null==r&&a===baseCallback?binaryIndex(e,n,t):binaryIndexBy(e,n,a(r,i,1),t)}}function createWrapper(t,e,n,r,i,o,h,l){var c=e&u;if(!c&&"function"!=typeof t)throw new St(k);var p=r?r.length:0;if(p||(e&=~(f|d),r=i=a),p-=i?i.length:0,e&d){var g=r,m=i;r=i=a}var v=c?a:we(t),y=[t,e,n,r,i,g,m,o,h,l];if(v&&(mergeData(y,v),e=y[1],l=y[9]),y[9]=null==l?c?0:t.length:ne(l-p,0)||0,e==s)var b=createBindWrapper(y[0],y[2]);else b=e!=f&&e!=(s|f)||y[4].length?createHybridWrapper.apply(a,y):createPartialWrapper.apply(a,y);return(v?xe:ke)(b,y)}function equalArrays(t,e,n,r,i,o,s){var u=-1,h=t.length,l=e.length;if(h!=l&&!(i&&l>h))return!1;for(;++u<h;){var c=t[u],f=e[u],d=r?r(i?f:c,i?c:f,u):a;if(d!==a){if(d)continue;return!1}if(i){if(!arraySome(e,function(t){return c===t||n(c,t,r,i,o,s)}))return!1}else if(c!==f&&!n(c,f,r,i,o,s))return!1}return!0}function equalByTag(t,e,n){switch(n){case N:case S:return+t==+e;case P:return t.name==e.name&&t.message==e.message;case L:return t!=+t?e!=+e:t==+e;case M:case j:return t==e+""}return!1}function equalObjects(t,e,n,r,i,o,s){var u=wn(t),h=u.length;if(h!=wn(e).length&&!i)return!1;for(var l=h;l--;){var c=u[l];if(!(i?c in e:Mt.call(e,c)))return!1}for(var f=i;++l<h;){c=u[l];var d=t[c],p=e[c],g=r?r(i?p:d,i?d:p,c):a;if(!(g===a?n(d,p,r,i,o,s):g))return!1;f||(f="constructor"==c)}if(!f){var m=t.constructor,v=e.constructor;if(m!=v&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v))return!1}return!0}function getCallback(t,e,n){var r=lodash.callback||callback;return r=r===callback?baseCallback:r,n?r(t,e,n):r}function getFuncName(t){for(var e=t.name,n=pe[e],r=n?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==t)return i.name}return e}function getIndexOf(t,e,n){var r=lodash.indexOf||indexOf;return r=r===indexOf?baseIndexOf:r,t?r(t,e,n):r}function getMatchData(t){for(var e=pairs(t),n=e.length;n--;)e[n][2]=isStrictComparable(e[n][1]);return e}function getNative(t,e){var n=null==t?a:t[e];return isNative(n)?n:a}function getView(t,e,n){for(var r=-1,i=n.length;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=re(e,t+o);break;case"takeRight":t=ne(t,e-o)}}return{start:t,end:e}}function initCloneArray(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Mt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function initCloneObject(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Et),new e}function initCloneByTag(t,e,n){var r=t.constructor;switch(e){case z:return bufferClone(t);case N:case S:return new r(+t);case R:case T:case D:case F:case W:case G:case B:case q:case V:var i=t.buffer;return new r(n?bufferClone(i):i,t.byteOffset,t.length);case L:case j:return new r(t);case M:var a=new r(t.source,ht.exec(t));a.lastIndex=t.lastIndex}return a}function invokePath(t,e,n){null==t||isKey(e,t)||(e=toPath(e),t=1==e.length?t:baseGet(t,baseSlice(e,0,-1)),e=last(e));var r=null==t?t:t[e];return null==r?a:r.apply(t,n)}function isArrayLike(t){return null!=t&&isLength(_e(t))}function isIndex(t,e){return t="number"==typeof t||dt.test(t)?+t:-1,e=null==e?fe:e,t>-1&&t%1==0&&t<e}function isIterateeCall(t,e,n){if(!isObject(n))return!1;var r=typeof e;if("number"==r?isArrayLike(n)&&isIndex(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function isKey(t,e){var n=typeof t;return!!("string"==n&&nt.test(t)||"number"==n)||!ln(t)&&(!et.test(t)||null!=e&&t in toObject(e))}function isLaziable(t){var e=getFuncName(t);if(!(e in LazyWrapper.prototype))return!1;var n=lodash[e];if(t===n)return!0;var r=we(n);return!!r&&t===r[0]}function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=fe}function isStrictComparable(t){return t===t&&!isObject(t)}function mergeData(t,e){var n=t[1],r=e[1],i=n|r,a=i<p,o=r==p&&n==l||r==p&&n==g&&t[7].length<=e[8]||r==(p|g)&&n==l;if(!a&&!o)return t;r&s&&(t[2]=e[2],i|=n&s?0:h);var u=e[3];if(u){var c=t[3];t[3]=c?composeArgs(c,u,e[4]):arrayCopy(u),t[4]=c?replaceHolders(t[3],C):arrayCopy(e[4])}return u=e[5],u&&(c=t[5],t[5]=c?composeArgsRight(c,u,e[6]):arrayCopy(u),t[6]=c?replaceHolders(t[5],C):arrayCopy(e[6])),u=e[7],u&&(t[7]=arrayCopy(u)),r&p&&(t[8]=null==t[8]?e[8]:re(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function mergeDefaults(t,e){return t===a?e:cn(t,e,mergeDefaults)}function pickByArray(t,e){t=toObject(t);for(var n=-1,r=e.length,i={};++n<r;){var a=e[n];a in t&&(i[a]=t[a])}return i}function pickByCallback(t,e){var n={};return baseForIn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function reorder(t,e){for(var n=t.length,r=re(e.length,n),i=arrayCopy(t);r--;){var o=e[r];t[r]=isIndex(o,n)?i[o]:a}return t}function shimKeys(t){for(var e=keysIn(t),n=e.length,r=n&&t.length,i=!!r&&isLength(r)&&(ln(t)||isArguments(t)),a=-1,o=[];++a<n;){var s=e[a];(i&&isIndex(s,r)||Mt.call(t,s))&&o.push(s)}return o}function toIterable(t){return null==t?[]:isArrayLike(t)?isObject(t)?t:Et(t):values(t)}function toObject(t){return isObject(t)?t:Et(t)}function toPath(t){if(ln(t))return t;var e=[];return baseToString(t).replace(rt,function(t,n,r,i){e.push(r?i.replace(st,"$1"):n||t)}),e}function wrapperClone(t){return t instanceof LazyWrapper?t.clone():new LodashWrapper(t.__wrapped__,t.__chain__,arrayCopy(t.__actions__))}function chunk(t,n,r){n=(r?isIterateeCall(t,n,r):null==n)?1:ne(Zt(n)||1,1);for(var i=0,a=t?t.length:0,o=-1,s=e(Kt(a/n));i<a;)s[++o]=baseSlice(t,i,i+=n);return s}function compact(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var a=t[e];a&&(i[++r]=a)}return i}function drop(t,e,n){return(t?t.length:0)?((n?isIterateeCall(t,e,n):null==e)&&(e=1),baseSlice(t,e<0?0:e)):[]}function dropRight(t,e,n){var r=t?t.length:0;return r?((n?isIterateeCall(t,e,n):null==e)&&(e=1),e=r-(+e||0),baseSlice(t,0,e<0?0:e)):[]}function dropRightWhile(t,e,n){return t&&t.length?baseWhile(t,getCallback(e,n,3),!0,!0):[]}function dropWhile(t,e,n){return t&&t.length?baseWhile(t,getCallback(e,n,3),!0):[]}function fill(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&isIterateeCall(t,e,n)&&(n=0,r=i),baseFill(t,e,n,r)):[]}function first(t){return t?t[0]:a}function flatten(t,e,n){var r=t?t.length:0;return n&&isIterateeCall(t,e,n)&&(e=!1),r?baseFlatten(t,e):[]}function flattenDeep(t){return(t?t.length:0)?baseFlatten(t,!0):[]}function indexOf(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?ne(r+n,0):n;else if(n){var i=binaryIndex(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return baseIndexOf(t,e,n||0)}function initial(t){return dropRight(t,1)}function last(t){var e=t?t.length:0;return e?t[e-1]:a}function lastIndexOf(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?ne(r+n,0):re(n||0,r-1))+1;else if(n){i=binaryIndex(t,e,!0)-1;var a=t[i];return(e===e?e===a:a!==a)?i:-1}if(e!==e)return indexOfNaN(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function pull(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=getIndexOf(),i=t.length;++n<i;)for(var a=0,o=t[n];(a=r(e,o,a))>-1;)Yt.call(e,a,1);return e}function remove(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,a=[],o=t.length;for(e=getCallback(e,n,3);++i<o;){var s=t[i];e(s,i,t)&&(r.push(s),a.push(i))}return basePullAt(t,a),r}function rest(t){return drop(t,1)}function slice(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&isIterateeCall(t,e,n)&&(e=0,n=r),baseSlice(t,e,n)):[]}function take(t,e,n){return(t?t.length:0)?((n?isIterateeCall(t,e,n):null==e)&&(e=1),baseSlice(t,0,e<0?0:e)):[]}function takeRight(t,e,n){var r=t?t.length:0;return r?((n?isIterateeCall(t,e,n):null==e)&&(e=1),e=r-(+e||0),baseSlice(t,e<0?0:e)):[]}function takeRightWhile(t,e,n){return t&&t.length?baseWhile(t,getCallback(e,n,3),!1,!0):[]}function takeWhile(t,e,n){return t&&t.length?baseWhile(t,getCallback(e,n,3)):[]}function uniq(t,e,n,r){if(!(t?t.length:0))return[];null!=e&&"boolean"!=typeof e&&(r=n,n=isIterateeCall(t,e,r)?a:e,e=!1);var i=getCallback();return null==n&&i===baseCallback||(n=i(n,r,3)),e&&getIndexOf()==baseIndexOf?sortedUniq(t,n):baseUniq(t,n)}function unzip(t){if(!t||!t.length)return[];var n=-1,r=0;t=arrayFilter(t,function(t){if(isArrayLike(t))return r=ne(t.length,r),!0});for(var i=e(r);++n<r;)i[n]=arrayMap(t,baseProperty(n));return i}function unzipWith(t,e,n){if(!(t?t.length:0))return[];var r=unzip(t);return null==e?r:(e=bindCallback(e,n,4),arrayMap(r,function(t){return arrayReduce(t,e,a,!0)}))}function xor(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(isArrayLike(n))var r=r?arrayPush(baseDifference(r,n),baseDifference(n,r)):n}return r?baseUniq(r):[]}function zipObject(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||ln(t[0])||(e=[]);++n<r;){var a=t[n];e?i[a]=e[n]:a&&(i[a[0]]=a[1])}return i}function chain(t){var e=lodash(t);return e.__chain__=!0,e}function tap(t,e,n){return e.call(n,t),t}function thru(t,e,n){return e.call(n,t)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(t){for(var e,n=this;n instanceof baseLodash;){var r=wrapperClone(n);e?i.__wrapped__=r:e=r;var i=r;n=n.__wrapped__}return i.__wrapped__=t,e}function wrapperReverse(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof LazyWrapper){var n=t;return this.__actions__.length&&(n=new LazyWrapper(this)),n=n.reverse(),n.__actions__.push({func:thru,args:[e],thisArg:a}),new LodashWrapper(n,this.__chain__)}return this.thru(e)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(t,e,n){var r=ln(t)?arrayEvery:baseEvery;return n&&isIterateeCall(t,e,n)&&(e=a),"function"==typeof e&&n===a||(e=getCallback(e,n,3)),r(t,e)}function filter(t,e,n){var r=ln(t)?arrayFilter:baseFilter;return e=getCallback(e,n,3),r(t,e)}function findWhere(t,e){return De(t,baseMatches(e))}function includes(t,e,n,r){var i=t?_e(t):0;return isLength(i)||(t=values(t),i=t.length),n="number"!=typeof n||r&&isIterateeCall(e,n,r)?0:n<0?ne(i+n,0):n||0,"string"==typeof t||!ln(t)&&isString(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&getIndexOf(t,e,n)>-1}function map(t,e,n){var r=ln(t)?arrayMap:baseMap;return e=getCallback(e,n,3),r(t,e)}function pluck(t,e){return map(t,property(e))}function reject(t,e,n){var r=ln(t)?arrayFilter:baseFilter;return e=getCallback(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function sample(t,e,n){if(n?isIterateeCall(t,e,n):null==e){t=toIterable(t);var r=t.length;return r>0?t[baseRandom(0,r-1)]:a}var i=-1,o=toArray(t),r=o.length,s=r-1;for(e=re(e<0?0:+e||0,r);++i<e;){var u=baseRandom(i,s),h=o[u];o[u]=o[i],o[i]=h}return o.length=e,o}function shuffle(t){return sample(t,ue)}function size(t){var e=t?_e(t):0;return isLength(e)?e:wn(t).length}function some(t,e,n){var r=ln(t)?arraySome:baseSome;return n&&isIterateeCall(t,e,n)&&(e=a),"function"==typeof e&&n===a||(e=getCallback(e,n,3)),r(t,e)}function sortBy(t,e,n){if(null==t)return[];n&&isIterateeCall(t,e,n)&&(e=a);var r=-1;return e=getCallback(e,n,3),baseSortBy(baseMap(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}}),compareAscending)}function sortByOrder(t,e,n,r){return null==t?[]:(r&&isIterateeCall(e,n,r)&&(n=a),ln(e)||(e=null==e?[]:[e]),ln(n)||(n=null==n?[]:[n]),baseSortByOrder(t,e,n))}function where(t,e){return filter(t,baseMatches(e))}function after(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new St(k);var n=t;t=e,e=n}return t=te(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function ary(t,e,n){return n&&isIterateeCall(t,e,n)&&(e=a),e=t&&null==e?t.length:ne(+e||0,0),createWrapper(t,p,a,a,a,a,e)}function before(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new St(k);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=a),n}}function debounce(t,e,n){function cancel(){h&&Gt(h),i&&Gt(i),c=0,i=h=l=a}function complete(e,n){n&&Gt(n),i=h=l=a,e&&(c=$e(),o=t.apply(u,r),h||i||(r=u=a))}function delayed(){var t=e-($e()-s);t<=0||t>e?complete(l,i):h=Xt(delayed,t)}function maxDelayed(){complete(d,h)}function debounced(){if(r=arguments,s=$e(),u=this,l=d&&(h||!p),!1===f)var n=p&&!h;else{i||p||(c=s);var g=f-(s-c),m=g<=0||g>f;m?(i&&(i=Gt(i)),c=s,o=t.apply(u,r)):i||(i=Xt(maxDelayed,g))}return m&&h?h=Gt(h):h||e===f||(h=Xt(delayed,e)),n&&(m=!0,o=t.apply(u,r)),!m||h||i||(r=u=a),o}var r,i,o,s,u,h,l,c=0,f=!1,d=!0;if("function"!=typeof t)throw new St(k);if(e=e<0?0:+e||0,!0===n){var p=!0;d=!1}else isObject(n)&&(p=!!n.leading,f="maxWait"in n&&ne(+n.maxWait||0,e),d="trailing"in n?!!n.trailing:d);return debounced.cancel=cancel,debounced}function memoize(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new St(k);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o),o};return n.cache=new memoize.Cache,n}function negate(t){if("function"!=typeof t)throw new St(k);return function(){return!t.apply(this,arguments)}}function once(t){return before(2,t)}function restParam(t,n){if("function"!=typeof t)throw new St(k);return n=ne(n===a?t.length-1:+n||0,0),function(){for(var r=arguments,i=-1,a=ne(r.length-n,0),o=e(a);++i<a;)o[i]=r[n+i];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,r[0],o);case 2:return t.call(this,r[0],r[1],o)}var s=e(n+1);for(i=-1;++i<n;)s[i]=r[i];return s[n]=o,t.apply(this,s)}}function spread(t){if("function"!=typeof t)throw new St(k);return function(e){return t.apply(this,e)}}function throttle(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new St(k);return!1===n?r=!1:isObject(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),debounce(t,e,{leading:r,maxWait:+e,trailing:i})}function wrap(t,e){return e=null==e?identity:e,createWrapper(e,f,a,[t],[])}function clone(t,e,n,r){return e&&"boolean"!=typeof e&&isIterateeCall(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?baseClone(t,e,bindCallback(n,r,1)):baseClone(t,e)}function cloneDeep(t,e,n){return"function"==typeof e?baseClone(t,!0,bindCallback(e,n,1)):baseClone(t,!0)}function gt(t,e){return t>e}function gte(t,e){return t>=e}function isArguments(t){return isObjectLike(t)&&isArrayLike(t)&&Mt.call(t,"callee")&&!Vt.call(t,"callee")}function isBoolean(t){return!0===t||!1===t||isObjectLike(t)&&Tt.call(t)==N}function isDate(t){return isObjectLike(t)&&Tt.call(t)==S}function isElement(t){return!!t&&1===t.nodeType&&isObjectLike(t)&&!isPlainObject(t)}function isEmpty(t){return null==t||(isArrayLike(t)&&(ln(t)||isString(t)||isArguments(t)||isObjectLike(t)&&isFunction(t.splice))?!t.length:!wn(t).length)}function isEqual(t,e,n,r){n="function"==typeof n?bindCallback(n,r,3):a;var i=n?n(t,e):a;return i===a?baseIsEqual(t,e,n):!!i}function isError(t){return isObjectLike(t)&&"string"==typeof t.message&&Tt.call(t)==P}function isFinite(t){return"number"==typeof t&&te(t)}function isFunction(t){return isObject(t)&&Tt.call(t)==I}function isObject(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function isMatch(t,e,n,r){return n="function"==typeof n?bindCallback(n,r,3):a,baseIsMatch(t,getMatchData(e),n)}function isNaN(t){return isNumber(t)&&t!=+t}function isNative(t){return null!=t&&(isFunction(t)?Ft.test(Ot.call(t)):isObjectLike(t)&&ft.test(t))}function isNull(t){return null===t}function isNumber(t){return"number"==typeof t||isObjectLike(t)&&Tt.call(t)==L}function isPlainObject(t){var e;if(!isObjectLike(t)||Tt.call(t)!=O||isArguments(t)||!Mt.call(t,"constructor")&&"function"==typeof(e=t.constructor)&&!(e instanceof e))return!1;var n;return baseForIn(t,function(t,e){n=e}),n===a||Mt.call(t,n)}function isRegExp(t){return isObject(t)&&Tt.call(t)==M}function isString(t){return"string"==typeof t||isObjectLike(t)&&Tt.call(t)==j}function isTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!wt[Tt.call(t)]}function isUndefined(t){return t===a}function lt(t,e){return t<e}function lte(t,e){return t<=e}function toArray(t){var e=t?_e(t):0;return isLength(e)?e?arrayCopy(t):[]:values(t)}function toPlainObject(t){return baseCopy(t,keysIn(t))}function create(t,e,n){var r=ge(t);return n&&isIterateeCall(t,e,n)&&(e=a),e?baseAssign(r,e):r}function functions(t){return baseFunctions(t,keysIn(t))}function get(t,e,n){var r=null==t?a:baseGet(t,toPath(e),e+"");return r===a?n:r}function has(t,e){if(null==t)return!1;var n=Mt.call(t,e);if(!n&&!isKey(e)){if(e=toPath(e),null==(t=1==e.length?t:baseGet(t,baseSlice(e,0,-1))))return!1;e=last(e),n=Mt.call(t,e)}return n||isLength(t.length)&&isIndex(e,t.length)&&(ln(t)||isArguments(t))}function invert(t,e,n){n&&isIterateeCall(t,e,n)&&(e=a);for(var r=-1,i=wn(t),o=i.length,s={};++r<o;){var u=i[r],h=t[u];e?Mt.call(s,h)?s[h].push(u):s[h]=[u]:s[h]=u}return s}function keysIn(t){if(null==t)return[];isObject(t)||(t=Et(t));var n=t.length;n=n&&isLength(n)&&(ln(t)||isArguments(t))&&n||0;for(var r=t.constructor,i=-1,a="function"==typeof r&&r.prototype===t,o=e(n),s=n>0;++i<n;)o[i]=i+"";for(var u in t)s&&isIndex(u,n)||"constructor"==u&&(a||!Mt.call(t,u))||o.push(u);return o}function pairs(t){t=toObject(t);for(var n=-1,r=wn(t),i=r.length,a=e(i);++n<i;){var o=r[n];a[n]=[o,t[o]]}return a}function result(t,e,n){var r=null==t?a:t[e];return r===a&&(null==t||isKey(e,t)||(e=toPath(e),t=1==e.length?t:baseGet(t,baseSlice(e,0,-1)),r=null==t?a:t[last(e)]),r=r===a?n:r),isFunction(r)?r.call(t):r}function set(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||isKey(e,t)?[r]:toPath(e);for(var i=-1,a=e.length,o=a-1,s=t;null!=s&&++i<a;){var u=e[i];isObject(s)&&(i==o?s[u]=n:null==s[u]&&(s[u]=isIndex(e[i+1])?[]:{})),s=s[u]}return t}function transform(t,e,n,r){var i=ln(t)||isTypedArray(t);if(e=getCallback(e,r,4),null==n)if(i||isObject(t)){var o=t.constructor;n=i?ln(t)?new o:[]:ge(isFunction(o)?o.prototype:a)}else n={};return(i?arrayEach:baseForOwn)(t,function(t,r,i){return e(n,t,r,i)}),n}function values(t){return baseValues(t,wn(t))}function valuesIn(t){return baseValues(t,keysIn(t))}function inRange(t,e,n){return e=+e||0,n===a?(n=e,e=0):n=+n||0,t>=re(e,n)&&t<ne(e,n)}function random(t,e,n){n&&isIterateeCall(t,e,n)&&(e=n=a);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=oe();return re(t+o*(e-t+Bt("1e-"+((o+"").length-1))),e)}return baseRandom(t,e)}function capitalize(t){return(t=baseToString(t))&&t.charAt(0).toUpperCase()+t.slice(1)}function deburr(t){return(t=baseToString(t))&&t.replace(pt,deburrLetter).replace(ot,"")}function endsWith(t,e,n){t=baseToString(t),e+="";var r=t.length;return n=n===a?r:re(n<0?0:+n||0,r),(n-=e.length)>=0&&t.indexOf(e,n)==n}function escape(t){return t=baseToString(t),t&&Q.test(t)?t.replace($,escapeHtmlChar):t}function escapeRegExp(t){return t=baseToString(t),t&&at.test(t)?t.replace(it,escapeRegExpChar):t||"(?:)"}function pad(t,e,n){t=baseToString(t),e=+e;var r=t.length;if(r>=e||!te(e))return t;var i=(e-r)/2,a=Zt(i);return n=createPadding("",Kt(i),n),n.slice(0,a)+t+n}function parseInt(t,e,n){return(n?isIterateeCall(t,e,n):null==e)?e=0:e&&(e=+e),t=trim(t),ae(t,e||(ct.test(t)?16:10))}function repeat(t,e){var n="";if(t=baseToString(t),(e=+e)<1||!t||!te(e))return n;do{e%2&&(n+=t),e=Zt(e/2),t+=t}while(e);return n}function startsWith(t,e,n){return t=baseToString(t),n=null==n?0:re(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function template(t,e,n){var r=lodash.templateSettings;n&&isIterateeCall(t,e,n)&&(e=n=a),t=baseToString(t),e=assignWith(baseAssign({},n||e),r,assignOwnDefaults);var o,s,u=assignWith(baseAssign({},e.imports),r.imports,assignOwnDefaults),h=wn(u),l=baseValues(u,h),c=0,f=e.interpolate||mt,d="__p += '",p=At((e.escape||mt).source+"|"+f.source+"|"+(f===tt?ut:mt).source+"|"+(e.evaluate||mt).source+"|$","g"),g="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++xt+"]")+"\n";t.replace(p,function(e,n,r,i,a,u){return r||(r=i),d+=t.slice(c,u).replace(vt,escapeStringChar),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e}),d+="';\n";var m=e.variable;m||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(U,""):d).replace(X,"$1").replace(Y,"$1;"),d="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=On(function(){return i(h,g+"return "+d).apply(a,l)});if(v.source=d,isError(v))throw v;return v}function trim(t,e,n){var r=t;return(t=baseToString(t))?(n?isIterateeCall(r,e,n):null==e)?t.slice(trimmedLeftIndex(t),trimmedRightIndex(t)+1):(e+="",t.slice(charsLeftIndex(t,e),charsRightIndex(t,e)+1)):t}function trimLeft(t,e,n){var r=t;return t=baseToString(t),t?(n?isIterateeCall(r,e,n):null==e)?t.slice(trimmedLeftIndex(t)):t.slice(charsLeftIndex(t,e+"")):t}function trimRight(t,e,n){var r=t;return t=baseToString(t),t?(n?isIterateeCall(r,e,n):null==e)?t.slice(0,trimmedRightIndex(t)+1):t.slice(0,charsRightIndex(t,e+"")+1):t}function trunc(t,e,n){n&&isIterateeCall(t,e,n)&&(e=a);var r=m,i=v;if(null!=e)if(isObject(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?baseToString(e.omission):i}else r=+e||0;if(t=baseToString(t),r>=t.length)return t;var s=r-i.length;if(s<1)return i;var u=t.slice(0,s);if(null==o)return u+i;if(isRegExp(o)){if(t.slice(s).search(o)){var h,l,c=t.slice(0,s);for(o.global||(o=At(o.source,(ht.exec(o)||"")+"g")),o.lastIndex=0;h=o.exec(c);)l=h.index;u=u.slice(0,null==l?s:l)}}else if(t.indexOf(o,s)!=s){var f=u.lastIndexOf(o);f>-1&&(u=u.slice(0,f))}return u+i}function unescape(t){return t=baseToString(t),t&&K.test(t)?t.replace(H,unescapeHtmlChar):t}function words(t,e,n){return n&&isIterateeCall(t,e,n)&&(e=a),t=baseToString(t),t.match(e||yt)||[]}function callback(t,e,n){return n&&isIterateeCall(t,e,n)&&(e=a),isObjectLike(t)?matches(t):baseCallback(t,e)}function constant(t){return function(){return t}}function identity(t){return t}function matches(t){return baseMatches(baseClone(t,!0))}function matchesProperty(t,e){return baseMatchesProperty(t,baseClone(e,!0))}function mixin(t,e,n){if(null==n){var r=isObject(e),i=r?wn(e):a,o=i&&i.length?baseFunctions(e,i):a;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=baseFunctions(e,wn(e)));var s=!0,u=-1,h=isFunction(t),l=o.length;!1===n?s=!1:isObject(n)&&"chain"in n&&(s=n.chain);for(;++u<l;){var c=o[u],f=e[c];t[c]=f,h&&(t.prototype[c]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__);return(r.__actions__=arrayCopy(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,arrayPush([this.value()],arguments))}}(f))}return t}function noConflict(){return jt._=Dt,this}function noop(){}function property(t){return isKey(t)?baseProperty(t):basePropertyDeep(t)}function propertyOf(t){return function(e){return baseGet(t,toPath(e),e+"")}}function range(t,n,r){r&&isIterateeCall(t,n,r)&&(n=r=a),t=+t||0,r=null==r?1:+r||0,null==n?(n=t,t=0):n=+n||0;for(var i=-1,o=ne(Kt((n-t)/(r||1)),0),s=e(o);++i<o;)s[i]=t,t+=r;return s}function times(t,n,r){if((t=Zt(t))<1||!te(t))return[];var i=-1,a=e(re(t,he));for(n=bindCallback(n,r,1);++i<t;)i<he?a[i]=n(i):n(i);return a}function uniqueId(t){var e=++Rt;return baseToString(t)+e}function add(t,e){return(+t||0)+(+e||0)}function sum(t,e,n){return n&&isIterateeCall(t,e,n)&&(e=a),e=getCallback(e,n,3),1==e.length?arraySum(ln(t)?t:toIterable(t),e):baseSum(t,e)}t=t?zt.defaults(jt.Object(),t,zt.pick(jt,bt)):jt;var e=t.Array,n=t.Date,r=t.Error,i=t.Function,kt=t.Math,Ct=t.Number,Et=t.Object,At=t.RegExp,Nt=t.String,St=t.TypeError,Pt=e.prototype,It=Et.prototype,Lt=Nt.prototype,Ot=i.prototype.toString,Mt=It.hasOwnProperty,Rt=0,Tt=It.toString,Dt=jt._,Ft=At("^"+Ot.call(Mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=t.ArrayBuffer,Gt=t.clearTimeout,Bt=t.parseFloat,qt=kt.pow,Vt=It.propertyIsEnumerable,Ut=getNative(t,"Set"),Xt=t.setTimeout,Yt=Pt.splice,Ht=t.Uint8Array,$t=getNative(t,"WeakMap"),Kt=kt.ceil,Qt=getNative(Et,"create"),Zt=kt.floor,Jt=getNative(e,"isArray"),te=t.isFinite,ee=getNative(Et,"keys"),ne=kt.max,re=kt.min,ie=getNative(n,"now"),ae=t.parseInt,oe=kt.random,se=Ct.NEGATIVE_INFINITY,ue=Ct.POSITIVE_INFINITY,he=4294967295,le=he-1,ce=he>>>1,fe=9007199254740991,de=$t&&new $t,pe={};lodash.support={};lodash.templateSettings={escape:Z,evaluate:J,interpolate:tt,variable:"",imports:{_:lodash}};var ge=function(){function object(){}return function(t){if(isObject(t)){object.prototype=t;var e=new object;object.prototype=a}return e||{}}}(),me=createBaseEach(baseForOwn),ve=createBaseEach(baseForOwnRight,!0),ye=createBaseFor(),be=createBaseFor(!0),xe=de?function(t,e){return de.set(t,e),t}:identity,we=de?function(t){return de.get(t)}:noop,_e=baseProperty("length"),ke=function(){var t=0,e=0;return function(n,r){var i=$e(),a=b-(i-e);if(e=i,a>0){if(++t>=y)return n}else t=0;return xe(n,r)}}(),Ce=restParam(function(t,e){return isObjectLike(t)&&isArrayLike(t)?baseDifference(t,baseFlatten(e,!1,!0)):[]}),Ee=createFindIndex(),Ae=createFindIndex(!0),Ne=restParam(function(t){for(var n=t.length,r=n,i=e(c),a=getIndexOf(),o=a==baseIndexOf,s=[];r--;){var u=t[r]=isArrayLike(u=t[r])?u:[];i[r]=o&&u.length>=120?createCache(r&&u):null}var h=t[0],l=-1,c=h?h.length:0,f=i[0];t:for(;++l<c;)if(u=h[l],(f?cacheIndexOf(f,u):a(s,u,0))<0){for(var r=n;--r;){var d=i[r];if((d?cacheIndexOf(d,u):a(t[r],u,0))<0)continue t}f&&f.push(u),s.push(u)}return s}),Se=restParam(function(t,e){e=baseFlatten(e);var n=baseAt(t,e);return basePullAt(t,e.sort(baseCompareAscending)),n}),Pe=createSortedIndex(),Ie=createSortedIndex(!0),Le=restParam(function(t){return baseUniq(baseFlatten(t,!1,!0))}),Oe=restParam(function(t,e){return isArrayLike(t)?baseDifference(t,e):[]}),Me=restParam(unzip),je=restParam(function(t){var e=t.length,n=e>2?t[e-2]:a,r=e>1?t[e-1]:a;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):a,r=a),t.length=e,unzipWith(t,n,r)}),ze=restParam(function(t){return t=baseFlatten(t),this.thru(function(e){return arrayConcat(ln(e)?e:[toObject(e)],t)})}),Re=restParam(function(t,e){return baseAt(t,baseFlatten(e))}),Te=createAggregator(function(t,e,n){Mt.call(t,n)?++t[n]:t[n]=1}),De=createFind(me),Fe=createFind(ve,!0),We=createForEach(arrayEach,me),Ge=createForEach(arrayEachRight,ve),Be=createAggregator(function(t,e,n){Mt.call(t,n)?t[n].push(e):t[n]=[e]}),qe=createAggregator(function(t,e,n){t[n]=e}),Ve=restParam(function(t,n,r){var i=-1,o="function"==typeof n,s=isKey(n),u=isArrayLike(t)?e(t.length):[];return me(t,function(t){var e=o?n:s&&null!=t?t[n]:a;u[++i]=e?e.apply(t,r):invokePath(t,n,r)}),u}),Ue=createAggregator(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Xe=createReduce(arrayReduce,me),Ye=createReduce(arrayReduceRight,ve),He=restParam(function(t,e){if(null==t)return[];var n=e[2];return n&&isIterateeCall(e[0],e[1],n)&&(e.length=1),baseSortByOrder(t,baseFlatten(e),[])}),$e=ie||function(){return(new n).getTime()},Ke=restParam(function(t,e,n){var r=s;if(n.length){var i=replaceHolders(n,Ke.placeholder);r|=f}return createWrapper(t,r,e,n,i)}),Qe=restParam(function(t,e){e=e.length?baseFlatten(e):functions(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=createWrapper(t[i],s,t)}return t}),Ze=restParam(function(t,e,n){var r=s|u;if(n.length){var i=replaceHolders(n,Ze.placeholder);r|=f}return createWrapper(e,r,t,n,i)}),Je=createCurry(l),tn=createCurry(c),en=restParam(function(t,e){return baseDelay(t,1,e)}),nn=restParam(function(t,e,n){return baseDelay(t,e,n)}),rn=createFlow(),an=createFlow(!0),on=restParam(function(t,e){if(e=baseFlatten(e),"function"!=typeof t||!arrayEvery(e,baseIsFunction))throw new St(k);var n=e.length;return restParam(function(r){for(var i=re(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),sn=createPartial(f),un=createPartial(d),hn=restParam(function(t,e){return createWrapper(t,g,a,a,a,baseFlatten(e))}),ln=Jt||function(t){return isObjectLike(t)&&isLength(t.length)&&Tt.call(t)==A},cn=createAssigner(baseMerge),fn=createAssigner(function(t,e,n){return n?assignWith(t,e,n):baseAssign(t,e)}),dn=createDefaults(fn,assignDefaults),pn=createDefaults(cn,mergeDefaults),gn=createFindKey(baseForOwn),mn=createFindKey(baseForOwnRight),vn=createForIn(ye),yn=createForIn(be),bn=createForOwn(baseForOwn),xn=createForOwn(baseForOwnRight),wn=ee?function(t){var e=null==t?a:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&isArrayLike(t)?shimKeys(t):isObject(t)?ee(t):[]}:shimKeys,_n=createObjectMapper(!0),kn=createObjectMapper(),Cn=restParam(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=arrayMap(baseFlatten(e),Nt);return pickByArray(t,baseDifference(keysIn(t),e))}var n=bindCallback(e[0],e[1],3);return pickByCallback(t,function(t,e,r){return!n(t,e,r)})}),En=restParam(function(t,e){return null==t?{}:"function"==typeof e[0]?pickByCallback(t,bindCallback(e[0],e[1],3)):pickByArray(t,baseFlatten(e))}),An=createCompounder(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Nn=createCompounder(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Sn=createPadDir(),Pn=createPadDir(!0),In=createCompounder(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ln=createCompounder(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),On=restParam(function(t,e){try{return t.apply(a,e)}catch(t){return isError(t)?t:new r(t)}}),Mn=restParam(function(t,e){return function(n){return invokePath(n,t,e)}}),jn=restParam(function(t,e){return function(n){return invokePath(t,n,e)}}),zn=createRound("ceil"),Rn=createRound("floor"),Tn=createExtremum(gt,se),Dn=createExtremum(lt,ue),Fn=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=ge(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=ge(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype.delete=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=fn,lodash.at=Re,lodash.before=before,lodash.bind=Ke,lodash.bindAll=Qe,lodash.bindKey=Ze,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=Te,lodash.create=create,lodash.curry=Je,lodash.curryRight=tn,lodash.debounce=debounce,lodash.defaults=dn,lodash.defaultsDeep=pn,lodash.defer=en,lodash.delay=nn,lodash.difference=Ce,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=rn,lodash.flowRight=an,lodash.forEach=We,lodash.forEachRight=Ge,lodash.forIn=vn,lodash.forInRight=yn,lodash.forOwn=bn,lodash.forOwnRight=xn,lodash.functions=functions,lodash.groupBy=Be,lodash.indexBy=qe,lodash.initial=initial,lodash.intersection=Ne,lodash.invert=invert,lodash.invoke=Ve,lodash.keys=wn,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=_n,lodash.mapValues=kn,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=cn,lodash.method=Mn,lodash.methodOf=jn,lodash.mixin=mixin,lodash.modArgs=on,lodash.negate=negate,lodash.omit=Cn,lodash.once=once,lodash.pairs=pairs,lodash.partial=sn,lodash.partialRight=un,lodash.partition=Ue,lodash.pick=En,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=Se,lodash.range=range,lodash.rearg=hn,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=He,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=Le,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=Oe,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=Me,lodash.zipObject=zipObject,lodash.zipWith=je,lodash.backflow=an,lodash.collect=map,lodash.compose=an,lodash.each=We,lodash.eachRight=Ge,lodash.extend=fn,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=On,lodash.camelCase=An,lodash.capitalize=capitalize,lodash.ceil=zn,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=De,lodash.findIndex=Ee,lodash.findKey=gn,lodash.findLast=Fe,lodash.findLastIndex=Ae,lodash.findLastKey=mn,lodash.findWhere=findWhere,lodash.first=first,lodash.floor=Rn,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=ln,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=Nn,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=Tn,lodash.min=Dn,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=$e,lodash.pad=pad,lodash.padLeft=Sn,lodash.padRight=Pn,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=Xe,lodash.reduceRight=Ye,lodash.repeat=repeat,lodash.result=result,lodash.round=Fn,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=In,lodash.some=some,lodash.sortedIndex=Pe,lodash.sortedLastIndex=Ie,lodash.startCase=Ln,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=De,lodash.foldl=Xe,lodash.foldr=Ye,lodash.head=first,lodash.include=includes,lodash.inject=Xe,mixin(lodash,function(){var t={};return baseForOwn(lodash,function(e,n){lodash.prototype[n]||(t[n]=e)}),t}(),!1),lodash.sample=sample,lodash.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return sample(e,t)}):sample(this.value())},lodash.VERSION=o,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){lodash[t].placeholder=lodash}),arrayEach(["drop","take"],function(t,e){LazyWrapper.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new LazyWrapper(this);n=null==n?1:ne(Zt(n)||0,0);var i=this.clone();return r?i.__takeCount__=re(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),arrayEach(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=_;LazyWrapper.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:getCallback(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),arrayEach(["first","last"],function(t,e){var n="take"+(e?"Right":"");LazyWrapper.prototype[t]=function(){return this[n](1).value()[0]}}),arrayEach(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");LazyWrapper.prototype[t]=function(){return this.__filtered__?new LazyWrapper(this):this[n](1)}}),arrayEach(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?baseMatches:property;LazyWrapper.prototype[t]=function(t){return this[n](r(t))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(t,e){return t=getCallback(t,e,1),this.filter(function(e){return!t(e)})},LazyWrapper.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new LazyWrapper(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==a&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},LazyWrapper.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(ue)},baseForOwn(LazyWrapper.prototype,function(t,e){var n=/^(?:filter|map|reject)|While$/.test(e),r=/^(?:first|last)$/.test(e),i=lodash[r?"take"+("last"==e?"Right":""):e];i&&(lodash.prototype[e]=function(){var e=r?[1]:arguments,o=this.__chain__,s=this.__wrapped__,u=!!this.__actions__.length,h=s instanceof LazyWrapper,l=e[0],c=h||ln(s);c&&n&&"function"==typeof l&&1!=l.length&&(h=c=!1);var f=function(t){return r&&o?i(t,1)[0]:i.apply(a,arrayPush([t],e))},d={func:thru,args:[f],thisArg:a},p=h&&!u;if(r&&!o)return p?(s=s.clone(),s.__actions__.push(d),t.call(s)):i.call(a,this.value())[0];if(!r&&c){s=p?s:new LazyWrapper(this);var g=t.apply(s,e);return g.__actions__.push(d),new LodashWrapper(g,o)}return this.thru(f)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var e=(/^(?:replace|split)$/.test(t)?Lt:Pt)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t);lodash.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?e.apply(this.value(),t):this[n](function(n){return e.apply(n,t)})}}),baseForOwn(LazyWrapper.prototype,function(t,e){var n=lodash[e];if(n){var r=n.name;(pe[r]||(pe[r]=[])).push({name:e,func:n})}}),pe[createHybridWrapper(a,u).name]=[{name:"wrapper",func:a}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.concat=ze,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var a,o="3.10.1",s=1,u=2,h=4,l=8,c=16,f=32,d=64,p=128,g=256,m=30,v="...",y=150,b=16,x=200,w=1,_=2,k="Expected a function",C="__lodash_placeholder__",E="[object Arguments]",A="[object Array]",N="[object Boolean]",S="[object Date]",P="[object Error]",I="[object Function]",L="[object Number]",O="[object Object]",M="[object RegExp]",j="[object String]",z="[object ArrayBuffer]",R="[object Float32Array]",T="[object Float64Array]",D="[object Int8Array]",F="[object Int16Array]",W="[object Int32Array]",G="[object Uint8Array]",B="[object Uint8ClampedArray]",q="[object Uint16Array]",V="[object Uint32Array]",U=/\b__p \+= '';/g,X=/\b(__p \+=) '' \+/g,Y=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39|#96);/g,$=/[&<>"'`]/g,K=RegExp(H.source),Q=RegExp($.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,nt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,it=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,at=RegExp(it.source),ot=/[\u0300-\u036f\ufe20-\ufe23]/g,st=/\\(\\)?/g,ut=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ht=/\w*$/,ct=/^0[xX]/,ft=/^\[object .+?Constructor\]$/,dt=/^\d+$/,pt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,mt=/($^)/,vt=/['\n\r\u2028\u2029\\]/g,yt=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],xt=-1,wt={};wt[R]=wt[T]=wt[D]=wt[F]=wt[W]=wt[G]=wt[B]=wt[q]=wt[V]=!0,wt[E]=wt[A]=wt[z]=wt[N]=wt[S]=wt[P]=wt[I]=wt["[object Map]"]=wt[L]=wt[O]=wt[M]=wt["[object Set]"]=wt[j]=wt["[object WeakMap]"]=!1;var _t={};_t[E]=_t[A]=_t[z]=_t[N]=_t[S]=_t[R]=_t[T]=_t[D]=_t[F]=_t[W]=_t[L]=_t[O]=_t[M]=_t[j]=_t[G]=_t[B]=_t[q]=_t[V]=!0,_t[P]=_t[I]=_t["[object Map]"]=_t["[object Set]"]=_t["[object WeakMap]"]=!1;var kt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ct={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Et={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},At={function:!0,object:!0},Nt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},St={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pt=At[typeof e]&&e&&!e.nodeType&&e,It=At[typeof t]&&t&&!t.nodeType&&t,Lt=Pt&&It&&"object"==typeof r&&r&&r.Object&&r,Ot=At[typeof self]&&self&&self.Object&&self,Mt=At[typeof window]&&window&&window.Object&&window,jt=(It&&It.exports,Lt||Mt!==(this&&this.window)&&Mt||Ot||this),zt=runInContext();jt._=zt,(i=function(){return zt}.call(e,n,e,t))!==a&&(t.exports=i)}).call(this)}).call(e,n(56)(t),n(55))},function(t,e,n){"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r,i,a={};a.keras_layer={class_name:"Dense",name:"dense_",inbound_nodes:[]},a.keras_args=(i={InputLayer:{help:"Input layer",color:"#00ff00",args:{batch_input_shape:[null,299,299,3],sparse:!1,input_dtype:"float32"}},Dense:{help:"Just your regular fully connected NN layer.",color:"#7f7f00",args:{output_dim:1,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_dim:200}},Activation:{help:"Applies an activation function to an output.",color:"#ff5656",args:{activation:"tanh"}},Dropout:{help:"Applies Dropout to the input. Dropout consists in randomly setting a fraction p of input units to 0 at each update during training time, which helps prevent overfitting.",color:"#ff5656",args:{p:.5}},SpatialDropout2D:{help:"This version performs the same function as Dropout, however it drops entire 2D feature maps instead of individual elements. If adjacent pixels within feature maps are strongly correlated (as is normally the case in early convolution layers) then regular dropout will not regularize the activations and will otherwise just result in an effective learning rate decrease. In this case, SpatialDropout2D will help promote independence between feature maps and should be used instead.",color:"#ff5656",args:{p:.5}},SpatialDropout3D:{help:"This version performs the same function as Dropout, however it drops entire 3D feature maps instead of individual elements. If adjacent pixels within feature maps are strongly correlated (as is normally the case in early convolution layers) then regular dropout will not regularize the activations and will otherwise just result in an effective learning rate decrease. In this case, SpatialDropout#D will help promote independence between feature maps and should be used instead.",color:"#ff5656",args:{p:.5}},Permute:{help:"Permutes the dimensions of the input according to a given pattern. Useful for e.g. connecting RNNs and convnets together.",color:"#000",args:{dims:"(2, 1)"}},Reshape:{help:"Reshapes an output to a certain shape.",color:"#000",args:{}},Flatten:{help:"Flattens the input. Does not affect the batch size.",color:"#000",args:{}},RepeatVector:{help:"Repeats the input n times.",color:"#000",args:{n:3}},Merge:{help:"A Merge layer can be used to merge a list of tensors into a single tensor, following some merge mode.",color:"#5fbf00",args:{layers:"[layer1, layer2]",mode:"sum",concat_axis:2,dot_axes:"(tuple)",output_shape:"(tuple integers)",node_indices:"",tensor_indices:"",output_mask:""}},ActivityRegularization:{help:"Layer that passes through its input unchanged, but applies an update to the cost function based on the activity.",color:"#000",args:{l1:0,l2:0}},Lambda:{help:"Used for evaluating an arbitrary Theano / TensorFlow expression on the output of the previous layer.",color:"#000",args:{function:"",output_shape:"(input_shape[0], )",arguments:""}},Masking:{help:"Masks an input sequence by using a mask value to identify timesteps to be skipped.",color:"#000",args:{mask_value:0}},Highway:{help:"Densely connected highway network, a natural extension of LSTMs to feedforward networks.",color:"#000",args:{output_dim:1,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_dim:200}},MaxoutDense:{help:"A MaxoutDense layer takes the element-wise maximum of nb_feature Dense(input_dim, output_dim) linear layers. This allows the layer to learn a convex, piecewise linear activation function over the inputs.",color:"#ff0000",args:{output_dim:1,nb_feature:2,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_dim:200}},TimeDistributedDense:{help:"Deprecated: use TimeDistributed",color:"#f00",args:{deprecated:"use TimeDistributed"}},Convolution1D:{help:"Convolution operator for filtering neighborhoods of one-dimensional inputs. When using this layer as the first layer in a model, either provide the keyword argument input_dim (int, e.g. 128 for sequences of 128-dimensional vectors), or input_shape (tuple of integers, e.g. (10, 128) for sequences of 10 vectors of 128-dimensional vectors).",color:"#005fbf",args:{nb_filter:1,filter_length:"",border_mode:"valid",subsample_length:300,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_length:300}},Convolution2D:{help:"Convolution operator for filtering windows of two-dimensional inputs. When using this layer as the first layer in a model, provide the keyword argument input_shape (tuple of integers, does not include the sample axis), e.g.  input_shape=(3, 128, 128) for 128x128 RGB pictures.",color:"#005fbf",args:{nb_filter:1,nb_row:200,nb_col:200,filter_length:"",border_mode:"valid",subsample_length:300,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_length:300}},Deconvolution2D:{help:"Transposed convolution operator for filtering windows of two-dimensional inputs. The need for transposed convolutions generally arises from the desire to use a transformation going in the opposite direction of a normal convolution, i.e., from something that has the shape of the output of some convolution to something that has the shape of its input while maintaining a connectivity pattern that is compatible with said convolution. ",color:"#005fbf",args:{nb_filter:1,nb_row:200,nb_col:200,output_shape:"",border_mode:"valid",subsample:"",init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0}},Convolution3D:{help:"Convolution operator for filtering windows of three-dimensional inputs. When using this layer as the first layer in a model, provide the keyword argument input_shape (tuple of integers, does not include the sample axis), e.g.  input_shape=(3, 10, 128, 128) for 10 frames of 128x128 RGB pictures.",color:"#005fbf",args:{nb_filter:1,kernel_dim1:200,kernel_dim2:200,kernel_dim3:200,border_mode:"valid",subsample:"",init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0}},Cropping1D:{help:"Cropping layer for 1D input (e.g. temporal sequence). It crops along the time dimension (axis 1).",color:"#ff5656",args:{cropping:"(1, 1)"}},Cropping2D:{help:"Cropping layer for 2D input (e.g. picture). It crops along spatial dimensions, i.e. width and height.",color:"#ff5656",args:{cropping:"((0, 0), (0, 0))"}},Cropping3D:{help:"Cropping layer for 3D data (e.g. spatial or saptio-temporal).",color:"#ff5656",args:{cropping:"((1, 1), (1, 1), (1, 1))"}},UpSampling1D:{help:"Repeat each temporal step length times along the time axis.",color:"#aaff56",args:{length:2}},UpSampling2D:{help:"Repeat the rows and columns of the data by size[0] and size[1] respectively.",color:"#aaff56",args:{size:"(2, 2)"}},UpSampling3D:{help:"Repeat the first, second and third dimension of the data by size[0], size[1] and size[2] respectively.",color:"#aaff56",args:{size:"(2, 2, 2)"}},ZeroPadding1D:{help:"Zero-padding layer for 1D input (e.g. temporal sequence).",color:"#aaff56",args:{padding:"1"}},ZeroPadding2D:{help:"Zero-padding layer for 1D input (e.g. temporal sequence).",color:"#aaff56",args:{padding:"(1, 1)"}},ZeroPadding3D:{help:"Zero-padding layer for 3D data (spatial or spatio-temporal).",color:"#aaff56",args:{padding:"(1, 1, 1)"}},Bidirectional:{help:"Bidirectional wrapper for RNNs.",color:"#003f7f",args:{layer:"",merge_mode:"sum"}},Embedding:{help:"Turn positive integers (indexes) into dense vectors of fixed size. eg. [[4], [20]] -> [[0.25, 0.1], [0.6, -0.2]] \nThis layer can only be used as the first layer in a model.",color:"#003f7f",args:{output_dim:1,init:"uniform",activation:"tanh",weights:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0,input_dim:200,mask_zero:!1,dropout:.5}},MaxPooling1D:{help:"Max pooling operation for temporal data.",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},MaxPooling2D:{help:"Max pooling operation for 2D data.",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},MaxPooling3D:{help:"Max pooling operation for 3D data (spatial or spatio-temporal).",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},AveragePooling1D:{help:"Average pooling operation for temporal data.",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},AveragePooling2D:{help:"Average pooling operation for 2D data.",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},AveragePooling3D:{help:"Average pooling operation for 3D data (spatial or spatio-temporal).",color:"#ff0000",args:{pool_size:"",strides:"",border_mode:"valid"}},GlobalMaxPooling1D:{help:"Global max pooling operation for temporal data.",color:"#ff0000",args:{}},GlobalAveragePooling1D:{help:"Global average pooling operation for temporal data.",color:"#ff0000",args:{}},GlobalMaxPooling2D:{help:"Global max pooling operation for spatial data.",color:"#ff0000",args:{}},GlobalAveragePooling2D:{help:"Global average pooling operation for spatial data.",color:"#ff0000",args:{}},LocallyConnected1D:{help:"The LocallyConnected1D layer works similarly to the Convolution1D layer, except that weights are unshared, that is, a different set of filters is applied at each different patch of the input. When using this layer as the first layer in a model, either provide the keyword argument input_dim (int, e.g. 128 for sequences of 128-dimensional vectors), or input_shape (tuple of integers, e.g. input_shape=(10, 128) for sequences of 10 vectors of 128-dimensional vectors). Also, note that this layer can only be used with a fully-specified input shape (None dimensions not allowed).",color:"#7f7f00",args:(r={nb_filter:1,filter_length:"",input_dim:1,init:"uniform",activation:"tanh",weights:"",subsample_length:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0},_defineProperty(r,"input_dim",200),_defineProperty(r,"input_length","None"),r)},LocallyConnected2D:{help:"The LocallyConnected1D layer works similarly to the Convolution1D layer, except that weights are unshared, that is, a different set of filters is applied at each different patch of the input. When using this layer as the first layer in a model, either provide the keyword argument input_dim (int, e.g. 128 for sequences of 128-dimensional vectors), or input_shape (tuple of integers, e.g. input_shape=(10, 128) for sequences of 10 vectors of 128-dimensional vectors). Also, note that this layer can only be used with a fully-specified input shape (None dimensions not allowed).",color:"#7f7f00",args:{nb_filter:1,nb_row:1,nb_col:1,filter_length:"",input_dim:1,init:"uniform",activation:"tanh",weights:"",subsample_length:"",W_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"activity_l2(0.01)",W_constraint:"maxnorm(m=2)",b_constraint:"maxnorm(m=2)",bias:!0}},SimpleRNN:{help:"Fully-connected RNN where the output is to be fed back to input.",color:"#003f7f",args:{output_dim:200,init:"uniform",inner_init:"uniform",activation:"tanh",W_regularizer:"l2(0.01)",U_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",dropout_W:.5,dropout_U:.5}},GRU:{help:"Gated Recurrent Unit - Cho et al. 2014.",color:"#003f7f",args:{output_dim:200,init:"uniform",inner_init:"uniform",activation:"tanh",inner_activation:"tanh",W_regularizer:"l2(0.01)",U_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",dropout_W:.5,dropout_U:.5}},LSTM:{help:"Long-Short Term Memory unit - Hochreiter 1997.",color:"#003f7f",args:{output_dim:200,init:"uniform",inner_init:"uniform",forget_bias_init:"uniform",activation:"tanh",inner_activation:"tanh",W_regularizer:"l2(0.01)",U_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",dropout_W:.5,dropout_U:.5}},BatchNormalization:{help:"Normalize the activations of the previous layer at each batch, i.e. applies a transformation that maintains the mean activation close to 0 and the activation standard deviation close to 1.",color:"#003f7f",args:{epsilon:.01,mode:0,axis:1,momentum:.1,weights:"",beta_init:"uniform",gamma_init:"uniform",gamma_regularizer:"l2(0.01)",beta_regularizer:"l2(0.01)"}},SeparableConvolution2D:{help:"Separable convolution operator for 2D inputs. \n Separable convolutions consist in first performing a depthwise spatial convolution (which acts on each input channel separately) followed by a pointwise convolution which mixes together the resulting output channels. The  depth_multiplier argument controls how many output channels are generated per input channel in the depthwise step. \n Intuitively, separable convolutions can be understood as a way to factorize a convolution kernel into two smaller kernels, or as an extreme version of an Inception block.",color:"#007fff",args:{nb_filter:1,nb_row:2,nb_col:2,init:"uniform",activation:"tanh",weights:"",border_mode:"valid",subsample:"",depth_multiplier:"",depthwise_regularizer:"l2(0.01)",pointwise_regularizer:"l2(0.01)",b_regularizer:"l2(0.01)",activity_regularizer:"l2(0.01)",depthwise_constraint:"",pointwise_constraint:"",b_constraint:"",bias:!1}},TimeDistributed:{help:"This wrapper allows to apply a layer to every temporal slice of an input. The input should be at least 3D, and the dimension of index one will be considered to be the temporal dimension. \nConsider a batch of 32 samples, where each sample is a sequence of 10 vectors of 16 dimensions. The batch input shape of the layer is then (32, 10, 16) (and the input_shape, not including the samples dimension, is  (10, 16)).",color:"#003f7f",args:{layer:""}}},_defineProperty(i,"GlobalAveragePooling2D",{help:"Global average pooling operation for spatial data.",color:"#000",args:{}}),_defineProperty(i,"LeakyReLU",{help:"Special version of a Rectified Linear Unit that allows a small gradient when the unit is not active: f(x) = alpha * x for x < 0, f(x) = x for x >= 0.",color:"#003f7f",args:{alpha:0}}),_defineProperty(i,"PReLU",{help:"Parametric Rectified Linear Unit: f(x) = alphas * x for x < 0, f(x) = x for x >= 0, where alphas is a learned array with the same shape as x.",color:"#003f7f",args:{init:"uniform",weights:""}}),_defineProperty(i,"ELU",{help:"Exponential Linear Unit: f(x) =  alpha * (exp(x) - 1.) for x < 0, f(x) = x for x >= 0.",color:"#003f7f",args:{alpha:1}}),_defineProperty(i,"ParametricSoftplus",{help:"Parametric Softplus: alpha * log(1 + exp(beta * x))",color:"#003f7f",args:{alpha_init:.5,beta_init:.5,weights:""}}),_defineProperty(i,"ThresholdedReLU",{help:"Thresholded Rectified Linear Unit: f(x) = x for x > theta f(x) = 0 otherwise.",color:"#003f7f",args:{theta:.5}}),_defineProperty(i,"SReLU",{help:"S-shaped Rectified Linear Unit.",color:"#003f7f",args:{t_left_init:"uniform",a_left_init:"uniform",t_right_init:"uniform",a_right_init:"uniform"}}),_defineProperty(i,"GaussianNoise",{help:"Apply to the input an additive zero-centered Gaussian noise with standard deviation sigma. This is useful to mitigate overfitting (you could see it as a kind of random data augmentation). Gaussian Noise (GS) is a natural choice as corruption process for real valued inputs. \nAs it is a regularization layer, it is only active at training time.",color:"#ffaaff",args:{sigma:.5}}),_defineProperty(i,"GaussianDropout",{help:"Apply to the input an multiplicative one-centered Gaussian noise with standard deviation sqrt(p/(1-p)). \nAs it is a regularization layer, it is only active at training time.",color:"#ffaaff",args:{p:.5}}),_defineProperty(i,"SGD",{help:"Stochastic gradient descent, with support for momentum, learning rate decay, and Nesterov momentum.",color:"#000",args:{lr:.1,momentum:.9,decay:.9,nesterov:!1}}),_defineProperty(i,"RMSprop",{help:"It is recommended to leave the parameters of this optimizer at their default values (except the learning rate, which can be freely tuned). This optimizer is usually a good choice for recurrent neural networks.",color:"#000",args:{lr:.1,rho:.9,decay:.005,epsilon:1e-4}}),_defineProperty(i,"Adagrad",{help:"Adagrad optimizer. It is recommended to leave the parameters of this optimizer at their default values.",color:"#000",args:{lr:.01,epsilon:1e-8,decay:0}}),_defineProperty(i,"Adadelta",{help:"Adadelta optimizer. It is recommended to leave the parameters of this optimizer at their default values.",color:"#000",args:{lr:1,rho:.95,epsilon:1e-8,decay:0}}),_defineProperty(i,"Adam",{help:"Adam optimizer. Default parameters follow those provided in the original paper.",color:"#000",args:{lr:.001,beta_1:.9,beta_2:.999,epsilon:1e-8,decay:0}}),_defineProperty(i,"Adamax",{help:"Adamax optimizer from Adam paper's Section 7. It is a variant of Adam based on the infinity norm. Default parameters follow those provided in the paper.",color:"#000",args:{lr:.002,beta_1:.9,beta_2:.999,epsilon:1e-8,decay:0}}),_defineProperty(i,"Nadam",{help:"Nesterov Adam optimizer: Much like Adam is essentially RMSprop with momentum, Nadam is Adam RMSprop with Nesterov momentum. Default parameters follow those provided in the paper. It is recommended to leave the parameters of this optimizer at their default values.",color:"#000",args:{lr:.002,beta_1:.9,beta_2:.999,epsilon:1e-8,schedule_decay:.004}}),_defineProperty(i,"TFOptimizer",{help:"TensorFlow Optimizer.",color:"#000",args:{optimizer:""}}),_defineProperty(i,"Model",{help:"Keras sequential model.",color:"#00f",args:{optimizer:"sgd",loss:"mean_squared_error",metrics:"",sample_weight_mode:"None"}}),_defineProperty(i,"Sequential",{help:"Keras sequential model.",color:"#00f",args:{optimizer:"sgd",loss:"mean_squared_error",metrics:"",sample_weight_mode:"None"}}),i),t.exports=a},function(t,e,n){t.exports={graphlib:n(3),layout:n(24),debug:n(22),util:{time:n(1).time,notime:n(1).notime},version:n(41)}},function(t,e,n){var r;!function(i,a){void 0!==(r=function(){return a(i,i.document)}.call(e,n,e,t))&&(t.exports=r)}("undefined"!=typeof window?window:this,function(t,e){function pathRegReplace(t,e,r,i){return r+i.replace(n.regex.dots," .")}function array_clone(t){for(var e=t.slice(0),n=e.length;n--;)Array.isArray(e[n])&&(e[n]=array_clone(e[n]));return e}function is(t,e){return t instanceof e}function matches(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function camelCase(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}function fullHex(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function compToHex(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function proportionalSize(t,e,n){if(null==e||null==n){var r=t.bbox();null==e?e=r.width/r.height*n:null==n&&(n=r.height/r.width*e)}return{width:e,height:n}}function deltaTransformPoint(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function arrayToMatrix(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function parseMatrix(t){return t instanceof n.Matrix||(t=new n.Matrix(t)),t}function ensureCentre(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function arrayToString(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}function assignNewId(e){for(var r=e.childNodes.length-1;r>=0;r--)e.childNodes[r]instanceof t.SVGElement&&assignNewId(e.childNodes[r]);return n.adopt(e).id(n.eid(e.nodeName))}function fullBox(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function idFromReference(t){var e=t.toString().match(n.regex.reference);if(e)return e[1]}var n=this.SVG=function(t){if(n.supported)return t=new n.Doc(t),n.parser.draw||n.prepare(),t};if(n.ns="http://www.w3.org/2000/svg",n.xmlns="http://www.w3.org/2000/xmlns/",n.xlink="http://www.w3.org/1999/xlink",n.svgjs="http://svgjs.com/svgjs",n.supported=function(){return!!e.createElementNS&&!!e.createElementNS(n.ns,"svg").createSVGRect}(),!n.supported)return!1;n.did=1e3,n.eid=function(t){return"Svgjs"+capitalize(t)+n.did++},n.create=function(t){var n=e.createElementNS(this.ns,t);return n.setAttribute("id",this.eid(t)),n},n.extend=function(){var t,e,r,i;for(t=[].slice.call(arguments),e=t.pop(),i=t.length-1;i>=0;i--)if(t[i])for(r in e)t[i].prototype[r]=e[r];n.Set&&n.Set.inherit&&n.Set.inherit()},n.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,n.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&n.extend(e,t.extend),t.construct&&n.extend(t.parent||n.Container,t.construct),e},n.adopt=function(e){if(!e)return null;if(e.instance)return e.instance;var r;return r="svg"==e.nodeName?e.parentNode instanceof t.SVGElement?new n.Nested:new n.Doc:"linearGradient"==e.nodeName?new n.Gradient("linear"):"radialGradient"==e.nodeName?new n.Gradient("radial"):n[capitalize(e.nodeName)]?new(n[capitalize(e.nodeName)]):new n.Element(e),r.type=e.nodeName,r.node=e,e.instance=r,r instanceof n.Doc&&r.namespace().defs(),r.setData(JSON.parse(e.getAttribute("svgjs:data"))||{}),r},n.prepare=function(){var t=e.getElementsByTagName("body")[0],r=(t?new n.Doc(t):n.adopt(e.documentElement).nested()).size(2,0);n.parser={body:t||e.documentElement,draw:r.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:r.polyline().node,path:r.path().node,native:n.create("svg")}},n.parser={native:n.create("svg")},e.addEventListener("DOMContentLoaded",function(){n.parser.draw||n.prepare()},!1),n.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},n.utils={map:function(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i},filter:function(t,e){var n,r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(e){return this.filter(e,function(e){return e instanceof t.SVGElement})}},n.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},n.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?n.regex.isRgb.test(t)?(e=n.regex.rgb.exec(t.replace(n.regex.whitespace,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):n.regex.isHex.test(t)&&(e=n.regex.hex.exec(fullHex(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},n.extend(n.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+compToHex(this.r)+compToHex(this.g)+compToHex(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new n.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new n.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),n.Color.test=function(t){return t+="",n.regex.isHex.test(t)||n.regex.isRgb.test(t)},n.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},n.Color.isColor=function(t){return n.Color.isRgb(t)||n.Color.test(t)},n.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},n.extend(n.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,r=this.value.length,i=[];e<r;e++)i.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new n.Array(i)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(n.regex.delimiter).map(parseFloat)},reverse:function(){return this.value.reverse(),this},clone:function(){var t=new this.constructor;return t.value=array_clone(this.value),t}}),n.PointArray=function(t,e){n.Array.call(this,t,e||[[0,0]])},n.PointArray.prototype=new n.Array,n.PointArray.prototype.constructor=n.PointArray,n.extend(n.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];t<e;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,r=this.value.length,i=[];e<r;e++)i.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new n.PointArray(i)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t)){if(Array.isArray(t[0]))return t}else t=t.trim().split(n.regex.delimiter).map(parseFloat);t.length%2!=0&&t.pop();for(var r=0,i=t.length;r<i;r+=2)e.push([t[r],t[r+1]]);return e},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+t,this.value[r][1]+e];return this},size:function(t,e){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)r.width&&(this.value[n][0]=(this.value[n][0]-r.x)*t/r.width+r.x),r.height&&(this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y);return this},bbox:function(){return n.parser.poly.setAttribute("points",this.toString()),n.parser.poly.getBBox()}});for(var r={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},i="mlhvqtcsaz".split(""),a=0,o=i.length;a<o;++a)r[i[a]]=function(t){return function(e,n,i){if("H"==t)e[0]=e[0]+n.x;else if("V"==t)e[0]=e[0]+n.y;else if("A"==t)e[5]=e[5]+n.x,e[6]=e[6]+n.y;else for(var a=0,o=e.length;a<o;++a)e[a]=e[a]+(a%2?n.y:n.x);return r[t](e,n,i)}}(i[a].toUpperCase());n.PathArray=function(t,e){n.Array.call(this,t,e||[["M",0,0]])},n.PathArray.prototype=new n.Array,n.PathArray.prototype.constructor=n.PathArray,n.extend(n.PathArray,{toString:function(){return arrayToString(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]+=t,this.value[i][2]+=e):"H"==r?this.value[i][1]+=t:"V"==r?this.value[i][1]+=e:"C"==r||"S"==r||"Q"==r?(this.value[i][1]+=t,this.value[i][2]+=e,this.value[i][3]+=t,this.value[i][4]+=e,"C"==r&&(this.value[i][5]+=t,this.value[i][6]+=e)):"A"==r&&(this.value[i][6]+=t,this.value[i][7]+=e);return this},size:function(t,e){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y):"H"==r?this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x:"V"==r?this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y:"C"==r||"S"==r||"Q"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*t/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*e/i.height+i.y,"C"==r&&(this.value[n][5]=(this.value[n][5]-i.x)*t/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*e/i.height+i.y)):"A"==r&&(this.value[n][1]=this.value[n][1]*t/i.width,this.value[n][2]=this.value[n][2]*e/i.height,this.value[n][6]=(this.value[n][6]-i.x)*t/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*e/i.height+i.y);return this},equalCommands:function(t){var e,r,i;for(t=new n.PathArray(t),i=this.value.length===t.value.length,e=0,r=this.value.length;i&&e<r;e++)i=this.value[e][0]===t.value[e][0];return i},morph:function(t){return t=new n.PathArray(t),this.equalCommands(t)?this.destination=t:this.destination=null,this},at:function(t){if(!this.destination)return this;var e,r,i,a,o=this.value,s=this.destination.value,u=[],h=new n.PathArray;for(e=0,r=o.length;e<r;e++){for(u[e]=[o[e][0]],i=1,a=o[e].length;i<a;i++)u[e][i]=o[e][i]+(s[e][i]-o[e][i])*t;"A"===u[e][0]&&(u[e][4]=+(0!=u[e][4]),u[e][5]=+(0!=u[e][5]))}return h.value=u,h},parse:function(t){if(t instanceof n.PathArray)return t.valueOf();var e,i,a={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7};t="string"==typeof t?t.replace(n.regex.numbersWithDots,pathRegReplace).replace(n.regex.pathLetters," $& ").replace(n.regex.hyphen,"$1 -").trim().split(n.regex.delimiter):t.reduce(function(t,e){return[].concat.call(t,e)},[]);var i=[],o=new n.Point,s=new n.Point,u=0,h=t.length;do{n.regex.isPathLetter.test(t[u])?(e=t[u],++u):"M"==e?e="L":"m"==e&&(e="l"),i.push(r[e].call(null,t.slice(u,u+=a[e.toUpperCase()]).map(parseFloat),o,s))}while(h>u);return i},bbox:function(){return n.parser.path.setAttribute("d",this.toString()),n.parser.path.getBBox()}}),n.Number=n.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(n.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof n.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return t=new n.Number(t),new n.Number(this+t,this.unit||t.unit)},minus:function(t){return t=new n.Number(t),new n.Number(this-t,this.unit||t.unit)},times:function(t){return t=new n.Number(t),new n.Number(this*t,this.unit||t.unit)},divide:function(t){return t=new n.Number(t),new n.Number(this/t,this.unit||t.unit)},to:function(t){var e=new n.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new n.Number(t),t.relative&&(this.destination.value+=this.value),this},at:function(t){return this.destination?new n.Number(this.destination).minus(this).times(t).plus(this):this}}}),n.Element=n.invent({create:function(t){this._stroke=n.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var r=proportionalSize(this,t,e);return this.width(new n.Number(r.width)).height(new n.Number(r.height))},clone:function(t,e){this.writeDataToDom();var n=assignNewId(this.node.cloneNode(!0));return t?t.add(n):this.after(n),n},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(n.regex.delimiter)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return n.get(this.attr(t))},parent:function(e){var r=this;if(!r.node.parentNode)return null;if(r=n.adopt(r.node.parentNode),!e)return r;for(;r&&r.node instanceof t.SVGElement;){if("string"==typeof e?r.matches(e):r instanceof e)return r;r=n.adopt(r.node.parentNode)}},doc:function(){return this instanceof n.Doc?this:this.parent(n.Doc)},parents:function(t){var e=[],n=this;do{if(!(n=n.parent(t))||!n.node)break;e.push(n)}while(n.parent);return e},matches:function(t){return matches(this.node,t)},native:function(){return this.node},svg:function(t){var r=e.createElement("svg");if(!(t&&this instanceof n.Parent))return r.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),r.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");r.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var i=0,a=r.firstChild.childNodes.length;i<a;i++)this.node.appendChild(r.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){(this.each?this:this.lines()).each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return is(this,t)}}}),n.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},n.morph=function(t){return function(e,r){return new n.MorphObj(e,r).at(t)}},n.Situation=n.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new n.Number(t.duration).valueOf(),this.delay=new n.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),n.FX=n.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,r){"object"==typeof t&&(e=t.ease,r=t.delay,t=t.duration);var i=new n.Situation({duration:t||1e3,delay:r||0,ease:n.easing[e||"-"]||e});return this.queue(i),this},delay:function(t){var e=new n.Situation({duration:t,delay:0,ease:n.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof n.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=t.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){t.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof n.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof n.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var t,e,r=this.situation;if(r.init)return this;for(t in r.animations)e=this.target()[t](),r.animations[t]instanceof n.Number&&(e=new n.Number(e)),r.animations[t]=e.morph(r.animations[t]);for(t in r.attrs)r.attrs[t]=new n.MorphObj(this.target().attr(t),r.attrs[t]);for(t in r.styles)r.styles[t]=new n.MorphObj(this.target().style(t),r.styles[t]);return r.initialTransformation=this.target().matrixify(),r.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){var n=this.active;return this.active=!1,e&&this.clearQueue(),t&&this.situation&&(!n&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops&&(this.situation.loops=this.situation.loop+1),"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(t,e){var n=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*n,this.situation.finish=this.situation.start+n,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var n=this.last();return n.loops=null==t||t,n.loop=0,e&&(n.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last(),n=function wrapper(n){n.detail.situation==e&&(t.call(this,e),this.off("finished.fx",wrapper))};return this.target().on("finished.fx",n),this._callStart()},during:function(t){var e=this.last(),r=function(r){r.detail.situation==e&&t.call(this,r.detail.pos,n.morph(r.detail.pos),r.detail.eased,e)};return this.target().off("during.fx",r).on("during.fx",r),this.after(function(){this.off("during.fx",r)}),this._callStart()},afterAll:function(t){var e=function wrapper(e){t.call(this),this.off("allfinished.fx",wrapper)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this._callStart()},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,n.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)}),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,n){return this.last()[n||"animations"][t]=e,this._callStart()},step:function(t){if(t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops){var e,n,r;e=Math.max(this.absPos,0),n=Math.floor(e),!0===this.situation.loops||n<this.situation.loops?(this.pos=e-n,r=this.situation.loop,this.situation.loop=n):(this.absPos=this.situation.loops,this.pos=1,r=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-r)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var i=this.situation.ease(this.pos);for(var a in this.situation.once)a>this.lastPos&&a<=i&&(this.situation.once[a].call(this.target(),this.pos,i),delete this.situation.once[a]);return this.active&&this.target().fire("during",{pos:this.pos,eased:i,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=i,this):this},eachAt:function(){var t,e,r,i=this,a=this.target(),o=this.situation;for(t in o.animations)r=[].concat(o.animations[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),a[t].apply(a,r);for(t in o.attrs)r=[t].concat(o.attrs[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),a.attr.apply(a,r);for(t in o.styles)r=[t].concat(o.styles[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(o.ease(i.pos),i.pos):t}),a.style.apply(a,r);if(o.transforms.length){for(r=o.initialTransformation,t=0,e=o.transforms.length;t<e;t++){var s=o.transforms[t];s instanceof n.Matrix?r=s.relative?r.multiply((new n.Matrix).morph(s).at(o.ease(this.pos))):r.morph(s).at(o.ease(this.pos)):(s.relative||s.undo(r.extract()),r=r.multiply(s.at(o.ease(this.pos))))}a.matrix(r)}return this},once:function(t,e,n){return n||(t=this.situation.ease(t)),this.situation.once[t]=e,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:n.Element,construct:{animate:function(t,e,r){return(this.fx||(this.fx=new n.FX(this))).animate(t,e,r)},delay:function(t){return(this.fx||(this.fx=new n.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),n.MorphObj=n.invent({create:function(t,e){return n.Color.isColor(e)?new n.Color(t).morph(e):n.regex.numberAndUnit.test(e)?new n.Number(t).morph(e):(this.value=t,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),n.extend(n.FX,{attr:function(t,e,n){if("object"==typeof t)for(var r in t)this.attr(r,t[r]);else this.add(t,e,"attrs");return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.add(t,e,"styles");return this},x:function(t,e){if(this.target()instanceof n.G)return this.transform({x:t},e),this;var r=new n.Number(t);return r.relative=e,this.add("x",r)},y:function(t,e){if(this.target()instanceof n.G)return this.transform({y:t},e),this;var r=new n.Number(t);return r.relative=e,this.add("y",r)},cx:function(t){return this.add("cx",new n.Number(t))},cy:function(t){return this.add("cy",new n.Number(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target()instanceof n.Text)this.attr("font-size",t);else{var r;t&&e||(r=this.target().bbox()),t||(t=r.width/r.height*e),e||(e=r.height/r.width*t),this.add("width",new n.Number(t)).add("height",new n.Number(e))}return this},plot:function(){return this.add("plot",arguments.length>1?[].slice.call(arguments):arguments[0])},leading:function(t){return this.target().leading?this.add("leading",new n.Number(t)):this},viewbox:function(t,e,r,i){return this.target()instanceof n.Container&&this.add("viewbox",new n.ViewBox(t,e,r,i)),this},update:function(t){if(this.target()instanceof n.Stop){if("number"==typeof t||t instanceof n.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),n.Box=n.invent({create:function(t,e,r,i){if(!("object"!=typeof t||t instanceof n.Element))return n.Box.call(this,null!=t.left?t.left:t.x,null!=t.top?t.top:t.y,t.width,t.height);4==arguments.length&&(this.x=t,this.y=e,this.width=r,this.height=i),fullBox(this)},extend:{merge:function(t){var e=new this.constructor;return e.x=Math.min(this.x,t.x),e.y=Math.min(this.y,t.y),e.width=Math.max(this.x+this.width,t.x+t.width)-e.x,e.height=Math.max(this.y+this.height,t.y+t.height)-e.y,fullBox(e)},transform:function(t){var e,r=1/0,i=-1/0,a=1/0,o=-1/0;return[new n.Point(this.x,this.y),new n.Point(this.x2,this.y),new n.Point(this.x,this.y2),new n.Point(this.x2,this.y2)].forEach(function(e){e=e.transform(t),r=Math.min(r,e.x),i=Math.max(i,e.x),a=Math.min(a,e.y),o=Math.max(o,e.y)}),e=new this.constructor,e.x=r,e.width=i-r,e.y=a,e.height=o-a,fullBox(e),e}}}),n.BBox=n.invent({create:function(t){if(n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element){var r;try{if(e.documentElement.contains){if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom")}else{for(var i=t.node;i.parentNode;)i=i.parentNode;if(i!=e)throw new Exception("Element not in the dom")}r=t.node.getBBox()}catch(e){if(t instanceof n.Shape){var a=t.clone(n.parser.draw.instance).show();r=a.node.getBBox(),a.remove()}else r={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}n.Box.call(this,r)}},inherit:n.Box,parent:n.Element,construct:{bbox:function(){return new n.BBox(this)}}}),n.BBox.prototype.constructor=n.BBox,n.extend(n.Element,{tbox:function(){return console.warn("Use of TBox is deprecated and mapped to RBox. Use .rbox() instead."),this.rbox(this.doc())}}),n.RBox=n.invent({create:function(t){n.Box.apply(this,[].slice.call(arguments)),t instanceof n.Element&&n.Box.call(this,t.node.getBoundingClientRect())},inherit:n.Box,parent:n.Element,extend:{addOffset:function(){return this.x+=t.pageXOffset,this.y+=t.pageYOffset,this}},construct:{rbox:function(t){return t?new n.RBox(this).transform(t.screenCTM().inverse()):new n.RBox(this).addOffset()}}}),n.RBox.prototype.constructor=n.RBox,n.Matrix=n.invent({create:function(t){var e,r=arrayToMatrix([1,0,0,1,0,0]);for(t=t instanceof n.Element?t.matrixify():"string"==typeof t?arrayToMatrix(t.split(n.regex.delimiter).map(parseFloat)):6==arguments.length?arrayToMatrix([].slice.call(arguments)):Array.isArray(t)?arrayToMatrix(t):"object"==typeof t?t:r,e=u.length-1;e>=0;--e)this[u[e]]=t&&"number"==typeof t[u[e]]?t[u[e]]:r[u[e]]},extend:{extract:function(){var t=deltaTransformPoint(this,0,1),e=deltaTransformPoint(this,1,0),r=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(r*Math.PI/180)+this.f*Math.sin(r*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(r*Math.PI/180)+this.e*Math.sin(-r*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-r,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:r,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new n.Matrix(this)}},clone:function(){return new n.Matrix(this)},morph:function(t){return this.destination=new n.Matrix(t),this},at:function(t){return this.destination?new n.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t}):this},multiply:function(t){return new n.Matrix(this.native().multiply(parseMatrix(t).native()))},inverse:function(){return new n.Matrix(this.native().inverse())},translate:function(t,e){return new n.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,r,i){return 1==arguments.length?e=t:3==arguments.length&&(i=r,r=e,e=t),this.around(r,i,new n.Matrix(t,0,0,e,0,0))},rotate:function(t,e,r){return t=n.utils.radians(t),this.around(e,r,new n.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):"y"==t?this.scale(1,-1,0,e):this.scale(-1,-1,t,null!=e?e:t)},skew:function(t,e,r,i){return 1==arguments.length?e=t:3==arguments.length&&(i=r,r=e,e=t),t=n.utils.radians(t),e=n.utils.radians(e),this.around(r,i,new n.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,n){return this.skew(t,0,e,n)},skewY:function(t,e,n){return this.skew(0,t,e,n)},around:function(t,e,r){return this.multiply(new n.Matrix(1,0,0,1,t||0,e||0)).multiply(r).multiply(new n.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=n.parser.native.createSVGMatrix(),e=u.length-1;e>=0;e--)t[u[e]]=this[u[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:n.Element,construct:{ctm:function(){return new n.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof n.Nested){var t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new n.Matrix(e)}return new n.Matrix(this.node.getScreenCTM())}}}),n.Point=n.invent({create:function(t,e){var n,r={x:0,y:0};n=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=t?{x:t,y:null!=e?e:t}:r,this.x=n.x,this.y=n.y},extend:{clone:function(){return new n.Point(this)},morph:function(t,e){return this.destination=new n.Point(t,e),this},at:function(t){return this.destination?new n.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=n.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new n.Point(this.native().matrixTransform(t.native()))}}}),n.extend(n.Element,{point:function(t,e){return new n.Point(t,e).transform(this.screenCTM().inverse())}}),n.extend(n.Element,{attr:function(t,e,r){if(null==t){for(t={},e=this.node.attributes,r=e.length-1;r>=0;r--)t[e[r].nodeName]=n.regex.isNumber.test(e[r].nodeValue)?parseFloat(e[r].nodeValue):e[r].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?n.defaults.attrs[t]:n.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(n.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof n.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new n.Number(e):n.Color.isColor(e)?e=new n.Color(e):Array.isArray(e)&&(e=new n.Array(e)),"leading"==t?this.leading&&this.leading(e):"string"==typeof r?this.node.setAttributeNS(r,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),n.extend(n.Element,{transform:function(t,e){var r,i,a=this;if("object"!=typeof t)return r=new n.Matrix(a).extract(),"string"==typeof t?r[t]:r;if(r=new n.Matrix(a),e=!!e||!!t.relative,null!=t.a)r=e?r.multiply(new n.Matrix(t)):new n.Matrix(t);else if(null!=t.rotation)ensureCentre(t,a),r=e?r.rotate(t.rotation,t.cx,t.cy):r.rotate(t.rotation-r.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(ensureCentre(t,a),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var o=r.extract();t.scaleX=1*t.scaleX/o.scaleX,t.scaleY=1*t.scaleY/o.scaleY}r=r.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skew||null!=t.skewX||null!=t.skewY){if(ensureCentre(t,a),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,!e){var o=r.extract();r=r.multiply((new n.Matrix).skew(o.skewX,o.skewY,t.cx,t.cy).inverse())}r=r.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?a.bbox()["c"+t.flip]:t.offset:null==t.offset?(i=a.bbox(),t.flip=i.cx,t.offset=i.cy):t.flip=t.offset,r=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(e?r=r.translate(t.x,t.y):(null!=t.x&&(r.e=t.x),null!=t.y&&(r.f=t.y)));return this.attr("transform",r)}}),n.extend(n.FX,{transform:function(t,e){var r,i,a=this.target();return"object"!=typeof t?(r=new n.Matrix(a).extract(),"string"==typeof t?r[t]:r):(e=!!e||!!t.relative,null!=t.a?r=new n.Matrix(t):null!=t.rotation?(ensureCentre(t,a),r=new n.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(ensureCentre(t,a),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,r=new n.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(ensureCentre(t,a),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,r=new n.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?("x"==t.flip||"y"==t.flip?t.offset=null==t.offset?a.bbox()["c"+t.flip]:t.offset:null==t.offset?(i=a.bbox(),t.flip=i.cx,t.offset=i.cy):t.flip=t.offset,r=(new n.Matrix).flip(t.flip,t.offset)):null==t.x&&null==t.y||(r=new n.Translate(t.x,t.y)),r?(r.relative=e,this.last().transforms.push(r),this._callStart()):this)}}),n.extend(n.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(n.regex.transforms).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(n.regex.delimiter).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(arrayToMatrix(e[1])):t[e[0]].apply(t,e[1])},new n.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),n=t.screenCTM().inverse();return this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),n.Transformation=n.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(t))for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[n];else if("object"==typeof t)for(var n=0,r=this.arguments.length;n<r;++n)this[this.arguments[n]]=t[this.arguments[n]];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{arguments:[],method:"",at:function(t){for(var e=[],r=0,i=this.arguments.length;r<i;++r)e.push(this[this.arguments[r]]);var a=this._undo||new n.Matrix;return a=(new n.Matrix).morph(n.Matrix.prototype[this.method].apply(a,e)).at(t),this.inversed?a.inverse():a},undo:function(t){for(var e=0,r=this.arguments.length;e<r;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(n[capitalize(this.method)])(t,!0).at(1),this}}}),n.Translate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),n.Rotate=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new n.Matrix).rotate((new n.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){return this._undo=t,this}}}),n.Scale=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),n.Skew=n.invent({parent:n.Matrix,inherit:n.Transformation,create:function(t,e){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),n.extend(n.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!n.regex.isCss.test(t))return this.node.style[camelCase(t)];for(t=t.split(/\s*;\s*/).filter(function(t){return!!t}).map(function(t){return t.split(/\s*:\s*/)});e=t.pop();)this.style(e[0],e[1])}else this.node.style[camelCase(t)]=null===e||n.regex.isBlank.test(e)?"":e;return this}}),n.Parent=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element,extend:{children:function(){return n.utils.map(n.utils.filterSVGElements(this.node.childNodes),function(t){return n.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return n.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var r,i,a=this.children();for(r=0,i=a.length;r<i;r++)a[r]instanceof n.Element&&t.apply(a[r],[r,a]),e&&a[r]instanceof n.Container&&a[r].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),n.extend(n.Parent,{ungroup:function(t,e){return 0===e||this instanceof n.Defs||this.node==n.parser.draw?this:(t=t||(this instanceof n.Doc?this:this.parent(n.Parent)),e=e||1/0,this.each(function(){return this instanceof n.Defs?this:this instanceof n.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),n.Container=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Parent}),n.ViewBox=n.invent({create:function(t){var e,r,i,a,o,s,u,h=[0,0,0,0],l=1,c=1,f=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof n.Element){for(s=t,u=t,o=(t.attr("viewBox")||"").match(f),t.bbox,i=new n.Number(t.width()),a=new n.Number(t.height());"%"==i.unit;)l*=i.value,i=new n.Number(s instanceof n.Doc?s.parent().offsetWidth:s.parent().width()),s=s.parent();for(;"%"==a.unit;)c*=a.value,a=new n.Number(u instanceof n.Doc?u.parent().offsetHeight:u.parent().height()),u=u.parent();this.x=0,this.y=0,this.width=i*l,this.height=a*c,this.zoom=1,o&&(e=parseFloat(o[0]),r=parseFloat(o[1]),i=parseFloat(o[2]),a=parseFloat(o[3]),this.zoom=this.width/this.height>i/a?this.height/a:this.width/i,this.x=e,this.y=r,this.width=i,this.height=a)}else t="string"==typeof t?t.match(f).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):h,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t,e,r,i){return this.destination=new n.ViewBox(t,e,r,i),this},at:function(t){return this.destination?new n.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:n.Container,construct:{viewbox:function(t,e,r,i){return 0==arguments.length?new n.ViewBox(this):this.attr("viewBox",new n.ViewBox(t,e,r,i))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){n.Element.prototype[t]=function(e){return n.on(this.node,t,e),this}}),n.listeners=[],n.handlerMap=[],n.listenerId=0,n.on=function(t,e,r,i,a){var o=r.bind(i||t.instance||t),s=(n.handlerMap.indexOf(t)+1||n.handlerMap.push(t))-1,u=e.split(".")[0],h=e.split(".")[1]||"*";n.listeners[s]=n.listeners[s]||{},n.listeners[s][u]=n.listeners[s][u]||{},n.listeners[s][u][h]=n.listeners[s][u][h]||{},r._svgjsListenerId||(r._svgjsListenerId=++n.listenerId),n.listeners[s][u][h][r._svgjsListenerId]=o,t.addEventListener(u,o,a||!1)},n.off=function(t,e,r){var i=n.handlerMap.indexOf(t),a=e&&e.split(".")[0],o=e&&e.split(".")[1],s="";if(-1!=i)if(r){if("function"==typeof r&&(r=r._svgjsListenerId),!r)return;n.listeners[i][a]&&n.listeners[i][a][o||"*"]&&(t.removeEventListener(a,n.listeners[i][a][o||"*"][r],!1),delete n.listeners[i][a][o||"*"][r])}else if(o&&a){if(n.listeners[i][a]&&n.listeners[i][a][o]){for(r in n.listeners[i][a][o])n.off(t,[a,o].join("."),r);delete n.listeners[i][a][o]}}else if(o)for(e in n.listeners[i])for(s in n.listeners[i][e])o===s&&n.off(t,[e,o].join("."));else if(a){if(n.listeners[i][a]){for(s in n.listeners[i][a])n.off(t,[a,s].join("."));delete n.listeners[i][a]}}else{for(e in n.listeners[i])n.off(t,e);delete n.listeners[i],delete n.handlerMap[i]}},n.extend(n.Element,{on:function(t,e,r,i){return n.on(this.node,t,e,r,i),this},off:function(t,e){return n.off(this.node,t,e),this},fire:function(e,n){return e instanceof t.Event?this.node.dispatchEvent(e):this.node.dispatchEvent(e=new t.CustomEvent(e,{detail:n,cancelable:!0})),this._event=e,this},event:function(){return this._event}}),n.Defs=n.invent({create:"defs",inherit:n.Container}),n.G=n.invent({create:"g",inherit:n.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new n.G)}}}),n.extend(n.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof n.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof n.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),n.Mask=n.invent({create:function(){this.constructor.call(this,n.create("mask")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new n.Mask)}}}),n.extend(n.Element,{maskWith:function(t){return this.masker=t instanceof n.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),n.ClipPath=n.invent({create:function(){this.constructor.call(this,n.create("clipPath")),this.targets=[]},inherit:n.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new n.ClipPath)}}}),n.extend(n.Element,{clipWith:function(t){return this.clipper=t instanceof n.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),n.Gradient=n.invent({create:function(t){this.constructor.call(this,n.create(t+"Gradient")),this.type=t},inherit:n.Container,extend:{at:function(t,e,r){return this.put(new n.Stop).update(t,e,r)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,r){return"transform"==t&&(t="gradientTransform"),n.Container.prototype.attr.call(this,t,e,r)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),n.extend(n.Gradient,n.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new n.Number(t),fy:new n.Number(e)}):this.attr({x1:new n.Number(t),y1:new n.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new n.Number(t),cy:new n.Number(e)}):this.attr({x2:new n.Number(t),y2:new n.Number(e)})}}),n.extend(n.Defs,{gradient:function(t,e){return this.put(new n.Gradient(t)).update(e)}}),n.Stop=n.invent({create:"stop",inherit:n.Element,extend:{update:function(t){return("number"==typeof t||t instanceof n.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new n.Number(t.offset)),this}}}),n.Pattern=n.invent({create:"pattern",inherit:n.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,r){return"transform"==t&&(t="patternTransform"),n.Container.prototype.attr.call(this,t,e,r)}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),n.extend(n.Defs,{pattern:function(t,e,r){return this.put(new n.Pattern).update(r).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),n.Doc=n.invent({create:function(t){t&&(t="string"==typeof t?e.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,n.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:n.Container,extend:{namespace:function(){return this.attr({xmlns:n.ns,version:"1.1"}).attr("xmlns:xlink",n.xlink,n.xmlns).attr("xmlns:svgjs",n.svgjs,n.xmlns)},defs:function(){if(!this._defs){var t;(t=this.node.getElementsByTagName("defs")[0])?this._defs=n.adopt(t):this._defs=new n.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(t){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,n.parser.draw.parentNode||this.node.appendChild(n.parser.draw),this}}}),n.Shape=n.invent({create:function(t){this.constructor.call(this,t)},inherit:n.Element}),n.Bare=n.invent({create:function(t,e){if(this.constructor.call(this,n.create(t)),e)for(var r in e.prototype)"function"==typeof e.prototype[r]&&(this[r]=e.prototype[r])},inherit:n.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),n.extend(n.Parent,{element:function(t,e){return this.put(new n.Bare(t,e))}}),n.Symbol=n.invent({create:"symbol",inherit:n.Container,construct:{symbol:function(){return this.put(new n.Symbol)}}}),n.Use=n.invent({create:"use",inherit:n.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,n.xlink)}},construct:{use:function(t,e){return this.put(new n.Use).element(t,e)}}}),n.Rect=n.invent({create:"rect",inherit:n.Shape,construct:{rect:function(t,e){return this.put(new n.Rect).size(t,e)}}}),n.Circle=n.invent({create:"circle",inherit:n.Shape,construct:{circle:function(t){return this.put(new n.Circle).rx(new n.Number(t).divide(2)).move(0,0)}}}),n.extend(n.Circle,n.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),n.Ellipse=n.invent({create:"ellipse",inherit:n.Shape,construct:{ellipse:function(t,e){return this.put(new n.Ellipse).size(t,e).move(0,0)}}}),n.extend(n.Ellipse,n.Rect,n.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),n.extend(n.Circle,n.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new n.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new n.Number(t).divide(2))},size:function(t,e){var r=proportionalSize(this,t,e);return this.rx(new n.Number(r.width).divide(2)).ry(new n.Number(r.height).divide(2))}}),n.Line=n.invent({create:"line",inherit:n.Shape,extend:{array:function(){return new n.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,r,i){return null==t?this.array():(t=void 0!==e?{x1:t,y1:e,x2:r,y2:i}:new n.PointArray(t).toLine(),this.attr(t))},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=proportionalSize(this,t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,r,i){return n.Line.prototype.plot.apply(this.put(new n.Line),null!=t?[t,e,r,i]:[0,0,0,0])}}}),n.Polyline=n.invent({create:"polyline",inherit:n.Shape,construct:{polyline:function(t){return this.put(new n.Polyline).plot(t||new n.PointArray)}}}),n.Polygon=n.invent({create:"polygon",inherit:n.Shape,construct:{polygon:function(t){return this.put(new n.Polygon).plot(t||new n.PointArray)}}}),n.extend(n.Polyline,n.Polygon,{array:function(){return this._array||(this._array=new n.PointArray(this.attr("points")))},plot:function(t){return null==t?this.array():this.clear().attr("points","string"==typeof t?t:this._array=new n.PointArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=proportionalSize(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}}),n.extend(n.Line,n.Polyline,n.Polygon,{morphArray:n.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),n.Path=n.invent({create:"path",inherit:n.Shape,extend:{morphArray:n.PathArray,array:function(){return this._array||(this._array=new n.PathArray(this.attr("d")))},plot:function(t){return null==t?this.array():this.clear().attr("d","string"==typeof t?t:this._array=new n.PathArray(t))},clear:function(){return delete this._array,this},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=proportionalSize(this,t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new n.Path).plot(t||new n.PathArray)}}}),n.Image=n.invent({create:"image",inherit:n.Shape,extend:{load:function(e){if(!e)return this;var r=this,i=new t.Image;return n.on(i,"load",function(){var t=r.parent(n.Pattern);null!==t&&(0==r.width()&&0==r.height()&&r.size(i.width,i.height),t&&0==t.width()&&0==t.height()&&t.size(r.width(),r.height()),"function"==typeof r._loaded&&r._loaded.call(r,{width:i.width,height:i.height,ratio:i.width/i.height,url:e}))}),n.on(i,"error",function(t){"function"==typeof r._error&&r._error.call(r,t)}),this.attr("href",i.src=this.src=e,n.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,r){return this.put(new n.Image).load(t).size(e||0,r||e||0)}}}),n.Text=n.invent({create:function(){this.constructor.call(this,n.create("text")),this.dom.leading=new n.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",n.defaults.attrs["font-family"])},inherit:n.Shape,extend:{x:function(t){return null==t?this.attr("x"):this.attr("x",t)},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){for(var t="",e=this.node.childNodes,r=0,i=e.length;r<i;++r)0!=r&&3!=e[r].nodeType&&1==n.adopt(e[r]).dom.newLined&&(t+="\n"),t+=e[r].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=t.split("\n");for(var r=0,a=t.length;r<a;r++)this.tspan(t[r]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new n.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=n.utils.map(n.utils.filterSVGElements(t.childNodes),function(t){return n.adopt(t)});return new n.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,r=0,i=this.dom.leading*new n.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(e.textPath()||this.attr("x",e.attr("x")),"\n"==this.text()?r+=i:(this.attr("dy",i+r),r=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new n.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new n.Text).text(t)},plain:function(t){return this.put(new n.Text).plain(t)}}}),n.Tspan=n.invent({create:"tspan",inherit:n.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(n.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),n.extend(n.Text,n.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,r=new n.Tspan;return!1===this._build&&this.clear(),e.appendChild(r.node),r.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),n.TextPath=n.invent({create:"textPath",inherit:n.Parent,parent:n.Text,construct:{path:function(t){for(var e=new n.TextPath,r=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+r,n.xlink),this},array:function(){var t=this.track();return t?t.array():null},plot:function(t){var e=this.track(),n=null;return e&&(n=e.plot(t)),null==t?n:this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return n.adopt(this.node.firstChild)}}}),n.Nested=n.invent({create:function(){this.constructor.call(this,n.create("svg")),this.style("overflow","visible")},inherit:n.Container,construct:{nested:function(){return this.put(new n.Nested)}}}),n.A=n.invent({create:"a",inherit:n.Container,extend:{to:function(t){return this.attr("href",t,n.xlink)},show:function(t){return this.attr("show",t,n.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new n.A).to(t)}}}),n.extend(n.Element,{linkTo:function(t){var e=new n.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),n.Marker=n.invent({create:"marker",inherit:n.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),n.extend(n.Defs,{marker:function(t,e,r){return this.put(new n.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(r)}}),n.extend(n.Line,n.Polyline,n.Polygon,n.Path,{marker:function(t,e,r,i){var a=["marker"];return"all"!=t&&a.push(t),a=a.join("-"),t=arguments[1]instanceof n.Marker?arguments[1]:this.doc().marker(e,r,i),this.attr(a,t)}});var s={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,r={};r[t]=function(r){if(void 0===r)return this;if("string"==typeof r||n.Color.isRgb(r)||r&&"function"==typeof r.fill)this.attr(t,r);else for(e=s[t].length-1;e>=0;e--)null!=r[s[t][e]]&&this.attr(s.prefix(t,s[t][e]),r[s[t][e]]);return this},n.extend(n.Element,n.FX,r)}),n.extend(n.Element,n.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,r){return 1==arguments.length||3==arguments.length?this.transform({skew:t,cx:e,cy:n}):this.transform({skewX:t,skewY:e,cx:n,cy:r})},scale:function(t,e,n,r){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:n}):this.transform({scaleX:t,scaleY:e,cx:n,cy:r})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return e="number"==typeof t?t:e,this.transform({flip:t||"both",offset:e})},matrix:function(t){return this.attr("transform",new n.Matrix(6==arguments.length?[].slice.call(arguments):t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x(new n.Number(t).plus(this instanceof n.FX?0:this.x()),!0)},dy:function(t){return this.y(new n.Number(t).plus(this instanceof n.FX?0:this.y()),!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),n.extend(n.Rect,n.Ellipse,n.Circle,n.Gradient,n.FX,{radius:function(t,e){var r=(this._target||this).type;return"radial"==r||"circle"==r?this.attr("r",new n.Number(t)):this.rx(t).ry(null==e?t:e)}}),n.extend(n.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),n.extend(n.Parent,n.Text,n.Tspan,n.FX,{font:function(t,e){if("object"==typeof t)for(e in t)this.font(e,t[e]);return"leading"==t?this.leading(e):"anchor"==t?this.attr("text-anchor",e):"size"==t||"family"==t||"weight"==t||"stretch"==t||"variant"==t||"style"==t?this.attr("font-"+t,e):this.attr(t,e)}}),n.Set=n.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;t<e;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;e<n;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){if(0==this.members.length)return new n.RBox;var t=this.members[0].rbox(this.members[0].doc());return this.each(function(){t=t.merge(this.rbox(this.doc()))}),t}},construct:{set:function(t){return new n.Set(t)}}}),n.FX.Set=n.invent({create:function(t){this.set=t}}),n.Set.inherit=function(){var t,e=[];for(var t in n.Shape.prototype)"function"==typeof n.Shape.prototype[t]&&"function"!=typeof n.Set.prototype[t]&&e.push(t);e.forEach(function(t){n.Set.prototype[t]=function(){for(var e=0,r=this.members.length;e<r;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new n.FX.Set(this)):this}}),e=[];for(var t in n.FX.prototype)"function"==typeof n.FX.prototype[t]&&"function"!=typeof n.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){n.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;e<n;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},n.extend(n.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===n||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),n.extend(n.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),n.get=function(t){var r=e.getElementById(idFromReference(t)||t);return n.adopt(r)},n.select=function(t,r){return new n.Set(n.utils.map((r||e).querySelectorAll(t),function(t){return n.adopt(t)}))},n.extend(n.Parent,{select:function(t){return n.select(t,this.node)}});var u="abcdef".split("");if("function"!=typeof t.CustomEvent){var h=function(t,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var r=e.createEvent("CustomEvent");return r.initCustomEvent(t,n.bubbles,n.cancelable,n.detail),r};h.prototype=t.Event.prototype,t.CustomEvent=h}return function(e){for(var n=0,r=["moz","webkit"],i=0;i<r.length&&!t.requestAnimationFrame;++i)e.requestAnimationFrame=e[r[i]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[i]+"CancelAnimationFrame"]||e[r[i]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var r=(new Date).getTime(),i=Math.max(0,16-(r-n)),a=e.setTimeout(function(){t(r+i)},i);return n=r+i,a},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),n})},function(t,e){!function(){var t=function(t){return t.touches||(t.touches=[{clientX:t.clientX,clientY:t.clientY}]),[].slice.call(t.touches)};SVG.extend(SVG.Doc,SVG.Nested,{panZoom:function(e){var n,r,i=!1,a=(new Date,this.viewbox(),function(t){t.preventDefault();var e=t.deltaY/Math.abs(t.deltaY)*.03+1,n=this.point(t.clientX,t.clientY),r=new SVG.Box(this.viewbox()).transform((new SVG.Matrix).scale(e,n.x,n.y));this.viewbox(r)}),o=function(e){r=t(e),r.length<2||i||(e.preventDefault(),l.call(this,e),i=!0,SVG.on(document,"touchmove",u,this,{passive:!1}),SVG.on(document,"touchend",s,this,{passive:!1}))},s=function(t){t.preventDefault(),i=!1,SVG.off(document,"touchmove",u),SVG.off(document,"touchend",s),this.on("touchstart",o),t.touches.length>0&&h.call(this,t)},u=function(e){e.preventDefault();var n=t(e),i=Math.sqrt((r[0].clientX-r[1].clientX)**2+(r[0].clientY-r[1].clientY)**2),a=Math.sqrt((n[0].clientX-n[1].clientX)**2+(n[0].clientY-n[1].clientY)**2),o=i/a,s={x:n[0].clientX+.5*(n[1].clientX-n[0].clientX),y:n[0].clientY+.5*(n[1].clientY-n[0].clientY)},u={x:r[0].clientX+.5*(r[1].clientX-r[0].clientX),y:r[0].clientY+.5*(r[1].clientY-r[0].clientY)},h=this.point(s.x,s.y),l=this.point(2*s.x-u.x,2*s.y-u.y),c=new SVG.Box(this.viewbox()).transform((new SVG.Matrix).translate(h.x,h.y).scale(o,0,0).translate(-l.x,-l.y));this.viewbox(c),r=n},h=function(e){e.preventDefault(),this.off("mousedown",h),this.off("touchstart",h),r=t(e),i||(n={x:r[0].clientX,y:r[0].clientY},SVG.on(document,"mousemove",c,this,{passive:!1}),SVG.on(document,"touchmove",c,this,{passive:!1}),SVG.on(document,"mouseup",l,this,{passive:!1}),SVG.on(document,"touchend",l,this,{passive:!1}))},l=function(t){t.preventDefault(),SVG.off(document,"mousemove",c),SVG.off(document,"touchmove",c),SVG.off(document,"mouseup",l),SVG.off(document,"touchend",l),this.on("mousedown",h),this.on("touchstart",h)},c=function(e){e.preventDefault();var r=t(e),i={x:r[0].clientX,y:r[0].clientY},a=this.point(i.x,i.y),o=this.point(n.x,n.y),s=[o.x-a.x,o.y-a.y],u=new SVG.Box(this.viewbox()).transform((new SVG.Matrix).translate(s[0],s[1]));this.viewbox(u),n=i};return this.on("wheel",a),this.on("touchstart",o,this,{passive:!1}),this.on("mousedown",h,this,{passive:!1}),this.on("touchstart",h,this,{passive:!1}),this}})}()},function(t,e,n){"use strict";var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(14),s=n(15);n(16),function(i,o){"object"==a(e)?t.exports=i.document?o(i,i.document):function(t){return o(t,t.document)}:void 0!==(r=function(){return o(i,i.document)}.call(e,n,e,t))&&(t.exports=r)}("undefined"!=typeof window?window:void 0,function(t,e){var r=t.KerasModelViewer=function(t,r,i){if(t||console.log("KerasModelViewer: No Model provided."),this.json=t,this._options={rankdir:"LR",nodesep:20,edgesep:20,ranksep:40,marginx:0,marginy:0,dims:{w:300,h:100},keras_ver:1},i)for(var a in i)this._options[a]=i[a];if("string"==typeof r&&(this._el=e.getElementById(r)),this.layer_ndx="model",this.graph={layer:[]},this.merge_layers_ndx=[],1!=this._options.keras_ver)return void console.log("Only Keras v.1 models are supported");var o=n(13);this.keras_args=o.keras_args};return r.prototype.flatten_input=function(t,e){var n=[];if(!e||e==[]||"Array"!=typeof e)return 0==this.layer_ndx?[]:[this.source_layers[this.layer_ndx-1].config.name,t];for(i in e){var r=flatten_input(t,e[i]);r==[]&&n.push(r)}return n},r.prototype.flattenArrayOfArrays=function(t,e){e||(e=[]);for(var n=0;n<t.length;n++)t[n].constructor==Array?this.flattenArrayOfArrays(t[n],e):e.push(t[n]);return e},r.prototype.add_model=function(){var t=this.json,e=t.config.name||t.class_name;if(this.dgraf.nodes[e]={label:e+"\n"+t.class_name,color:this.keras_args[t.class_name].color,width:this._options.dims.w,height:this._options.dims.h},t.config.input_layers){var n=this.flattenArrayOfArrays(t.config.input_layers);for(i in n)"string"==typeof n[i]&&this.dgraf.edges.push([e,n[i]])}else t.config instanceof Array&&this.dgraf.edges.push([e,t.config[0].config.name])},r.prototype.draw_diag=function(){var t=this.json;this.view.clear(),this.dgraf={svgd:this.view,nodes:{},edges:[]},"LR"==this._options.rankdir&&this._options.dims.w>this._options.dims.h&&(this._options.dims={w:this._options.dims.h,h:this._options.dims.w}),"UD"==this._options.rankdir&&this._options.dims.w<this._options.dims.h&&(this._options.dims={w:this._options.dims.h,h:this._options.dims.w}),this.add_model(),this.source_layers=t.config.layers?t.config.layers:t.config,this.source_layers.model=t;var e,n=this.source_layers;for(var r in n){var i=n[r];if(i.keras_version)return;if(this.layer_ndx=r,e=i.config.name?i.config.name:i.name,this.dgraf.nodes[e]={label:e+"\n"+i.class_name,color:this.keras_args[i.class_name].color,width:this._options.dims.w,height:this._options.dims.h},"Merge"==i.class_name&&this.merge_layers_ndx.push(r),i.inbound_nodes&&0!=this.layer_ndx){var a=this.flattenArrayOfArrays(i.inbound_nodes);for(j in a)0!==a[j]&&this.dgraf.edges.push([a[j],e])}else 0!=this.layer_ndx&&"model"!=this.layer_ndx&&this.dgraf.edges.push([this.source_layers[this.layer_ndx-1].config.name,e])}this.layer_ndx=0},r.prototype.showGraph=function(){var t=this,e=this.dgraf;e.g=new o.graphlib.Graph,e.g.setGraph({}),e.g.setDefaultEdgeLabel(function(){return{}});var n=e.g;e.svgd.clear(),e.marker=this.add_marker(e.svgd);var r=e.nodes,i=e.edges;n.setGraph(this._options);var a=!0,s=!1,u=void 0;try{for(var h,l=i[Symbol.iterator]();!(a=(h=l.next()).done);a=!0){var c=h.value;n.setEdge(c[0],c[1])}}catch(t){s=!0,u=t}finally{try{!a&&l.return&&l.return()}finally{if(s)throw u}}for(var f in r)n.setNode(f,r[f]);o.layout(n);var d=n.graph();e.svgd.size(d.width,d.height),n.edges().forEach(function(r){t.draw_edge(e.svgd,n.edge(r).points,e.marker)});var p=0;for(var g in e.nodes)0==p?this.graph.layer.model=this.draw_node(e.svgd,e.nodes[g],p):this.graph.layer[p-1]=this.draw_node(e.svgd,e.nodes[g],p),p++;var m=e.svgd.bbox(),v={w:this._el.clientWidth,h:this._el.clientHeight-5},y=1;y=m.w/m.h>v.w/v.h?v.w/m.w:v.h/m.h,e.svgd.attr({transform:"matrix("+y+",0,0,"+y+",0,0)"})},r.prototype.draw_node=function(t,e,n){var r=5;0===n?(n="model",r=Math.min(e.width,e.height)/2):n--;var i=t.group().attr({"data-index":n,"stroke-width":.5}),a=(i.rect(e.width,e.height).cx(e.x).cy(e.y).fill(e.color).attr({"fill-opacity":.2,rx:r,ry:r}),i.text(e.label).x(e.x).y(e.y-20).font({anchor:"middle"}));return"LR"==this._options.rankdir&&a.rotate(-90),i},r.prototype.draw_edge=function(t,e,n){var r="M "+e[0].x+" "+e[0].y+"C ",i=e.length;r+=2==i?e[0].x+" "+e[0].y+" "+e[1].x+" "+e[1].y+" ":3==i?e[1].x+" "+e[1].y+" "+e[1].x+" "+e[1].y+" ":4==i?e[1].x+" "+e[1].y+" "+e[2].x+" "+e[2].y+" ":e[1].x+" "+e[1].y+" "+e[i-2].x+" "+e[i-2].y+" ",r+=e[i-1].x+" "+e[i-1].y;var a=t.path(r).fill("none").stroke({width:1}).attr({"stroke-linecap":"round","stroke-linejoin":"round"});return a.marker("end",n),a},r.prototype.add_marker=function(t){return t.marker(-19,10,function(t){t.path("M-19,0l10,5l-10,5l4,-5l-4,-5z").attr({"stroke-linecap":"round","stroke-linejoin":"round"})})},r.prototype.show=function(){this.draw=s(this._el).size("100%","100%").panZoom(),this.view=this.draw.group().attr({id:"diagram"}),this.model()},r.prototype.clear=function(){this.view.clear()},r.prototype.model=function(t){t&&(this.json=t),this.draw_diag(),this.showGraph()},r})},function(t,e,n){"use strict";function run(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):dfsFAS(t);r.each(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))})}function dfsFAS(t){function dfs(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.each(t.outEdges(a),function(t){r.has(n,t.w)?e.push(t):dfs(t.w)}),delete n[a])}var e=[],n={},i={};return r.each(t.nodes(),dfs),e}function undo(t){r.each(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}var r=n(0),i=n(23);t.exports={run:run,undo:undo}},function(t,e,n){function addBorderSegments(t){function dfs(e){var n=t.children(e),i=t.node(e);if(n.length&&r.each(n,dfs),r.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var a=i.minRank,o=i.maxRank+1;a<o;++a)addBorderNode(t,"borderLeft","_bl",e,i,a),addBorderNode(t,"borderRight","_br",e,i,a)}}r.each(t.children(),dfs)}function addBorderNode(t,e,n,r,a,o){var s={width:0,height:0,rank:o,borderType:e},u=a[e][o-1],h=i.addDummyNode(t,"border",s,n);a[e][o]=h,t.setParent(h,r),u&&t.setEdge(u,h,{weight:1})}var r=n(0),i=n(1);t.exports=addBorderSegments},function(t,e,n){"use strict";function adjust(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||swapWidthHeight(t)}function undo(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||reverseY(t),"lr"!==e&&"rl"!==e||(swapXY(t),swapWidthHeight(t))}function swapWidthHeight(t){r.each(t.nodes(),function(e){swapWidthHeightOne(t.node(e))}),r.each(t.edges(),function(e){swapWidthHeightOne(t.edge(e))})}function swapWidthHeightOne(t){var e=t.width;t.width=t.height,t.height=e}function reverseY(t){r.each(t.nodes(),function(e){reverseYOne(t.node(e))}),r.each(t.edges(),function(e){var n=t.edge(e);r.each(n.points,reverseYOne),r.has(n,"y")&&reverseYOne(n)})}function reverseYOne(t){t.y=-t.y}function swapXY(t){r.each(t.nodes(),function(e){swapXYOne(t.node(e))}),r.each(t.edges(),function(e){var n=t.edge(e);r.each(n.points,swapXYOne),r.has(n,"x")&&swapXYOne(n)})}function swapXYOne(t){var e=t.x;t.x=t.y,t.y=e}var r=n(0);t.exports={adjust:adjust,undo:undo}},function(t,e){function List(){var t={};t._next=t._prev=t,this._sentinel=t}function unlink(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function filterOutLinks(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=List,List.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return unlink(e),e},List.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&unlink(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},List.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,filterOutLinks)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){function debugOrdering(t){var e=i.buildLayerMatrix(t),n=new a({compound:!0,multigraph:!0}).setGraph({});return r.each(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),r.each(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),r.each(e,function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}var r=n(0),i=n(1),a=n(3).Graph;t.exports={debugOrdering:debugOrdering}},function(t,e,n){function greedyFAS(t,e){if(t.nodeCount()<=1)return[];var n=buildState(t,e||o),i=doGreedyFAS(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(i,function(e){return t.outEdges(e.v,e.w)}),!0)}function doGreedyFAS(t,e,n){for(var r,i=[],a=e[e.length-1],o=e[0];t.nodeCount();){for(;r=o.dequeue();)removeNode(t,e,n,r);for(;r=a.dequeue();)removeNode(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(removeNode(t,e,n,r,!0));break}}return i}function removeNode(t,e,n,i,a){var o=a?[]:void 0;return r.each(t.inEdges(i.v),function(r){var i=t.edge(r),s=t.node(r.v);a&&o.push({v:r.v,w:r.w}),s.out-=i,assignBucket(e,n,s)}),r.each(t.outEdges(i.v),function(r){var i=t.edge(r),a=r.w,o=t.node(a);o.in-=i,assignBucket(e,n,o)}),t.removeNode(i.v),o}function buildState(t,e){var n=new i,o=0,s=0;r.each(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),r.each(t.edges(),function(t){var r=n.edge(t.v,t.w)||0,i=e(t),a=r+i;n.setEdge(t.v,t.w,a),s=Math.max(s,n.node(t.v).out+=i),o=Math.max(o,n.node(t.w).in+=i)});var u=r.range(s+o+3).map(function(){return new a}),h=o+1;return r.each(n.nodes(),function(t){assignBucket(u,h,n.node(t))}),{graph:n,buckets:u,zeroIdx:h}}function assignBucket(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var r=n(0),i=n(3).Graph,a=n(21);t.exports=greedyFAS;var o=r.constant(1)},function(t,e,n){"use strict";function layout(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return buildLayoutGraph(t)});n("  runLayout",function(){runLayout(e,n)}),n("  updateInputGraph",function(){updateInputGraph(t,e)})})}function runLayout(t,e){e("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(t)}),e("    removeSelfEdges",function(){removeSelfEdges(t)}),e("    acyclic",function(){i.run(t)}),e("    nestingGraph.run",function(){l.run(t)}),e("    rank",function(){o(g.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(t)}),e("    removeEmptyRanks",function(){h(t)}),e("    nestingGraph.cleanup",function(){l.cleanup(t)}),e("    normalizeRanks",function(){s(t)}),e("    assignRankMinMax",function(){assignRankMinMax(t)}),e("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(t)}),e("    normalize.run",function(){a.run(t)}),e("    parentDummyChains",function(){u(t)}),e("    addBorderSegments",function(){c(t)}),e("    order",function(){d(t)}),e("    insertSelfEdges",function(){insertSelfEdges(t)}),e("    adjustCoordinateSystem",function(){f.adjust(t)}),e("    position",function(){p(t)}),e("    positionSelfEdges",function(){positionSelfEdges(t)}),e("    removeBorderNodes",function(){removeBorderNodes(t)}),e("    normalize.undo",function(){a.undo(t)}),e("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(t)}),e("    undoCoordinateSystem",function(){f.undo(t)}),e("    translateGraph",function(){translateGraph(t)}),e("    assignNodeIntersects",function(){assignNodeIntersects(t)}),e("    reversePoints",function(){reversePointsForReversedEdges(t)}),e("    acyclic.undo",function(){i.undo(t)})}function updateInputGraph(t,e){r.each(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),r.each(t.edges(),function(n){var i=t.edge(n),a=e.edge(n);i.points=a.points,r.has(a,"x")&&(i.x=a.x,i.y=a.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}function buildLayoutGraph(t){var e=new m({multigraph:!0,compound:!0}),n=canonicalize(t.graph());return e.setGraph(r.merge({},y,selectNumberAttrs(n,v),r.pick(n,b))),r.each(t.nodes(),function(n){var i=canonicalize(t.node(n));e.setNode(n,r.defaults(selectNumberAttrs(i,x),w)),e.setParent(n,t.parent(n))}),r.each(t.edges(),function(n){var i=canonicalize(t.edge(n));e.setEdge(n,r.merge({},k,selectNumberAttrs(i,_),r.pick(i,C)))}),e}function makeSpaceForEdgeLabels(t){var e=t.graph();e.ranksep/=2,r.each(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function injectEdgeLabelProxies(t){r.each(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),a={rank:(i.rank-r.rank)/2+r.rank,e:e};g.addDummyNode(t,"edge-proxy",a,"_ep")}})}function assignRankMinMax(t){var e=0;r.each(t.nodes(),function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))}),t.graph().maxRank=e}function removeEdgeLabelProxies(t){r.each(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}function translateGraph(t){function getExtremes(t){var r=t.x,o=t.y,s=t.width,u=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,o-u/2),a=Math.max(a,o+u/2)}var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,a=0,o=t.graph(),s=o.marginx||0,u=o.marginy||0;r.each(t.nodes(),function(e){getExtremes(t.node(e))}),r.each(t.edges(),function(e){var n=t.edge(e);r.has(n,"x")&&getExtremes(n)}),e-=s,i-=u,r.each(t.nodes(),function(n){var r=t.node(n);r.x-=e,r.y-=i}),r.each(t.edges(),function(n){var a=t.edge(n);r.each(a.points,function(t){t.x-=e,t.y-=i}),r.has(a,"x")&&(a.x-=e),r.has(a,"y")&&(a.y-=i)}),o.width=n-e+s,o.height=a-i+u}function assignNodeIntersects(t){r.each(t.edges(),function(e){var n,r,i=t.edge(e),a=t.node(e.v),o=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=o,r=a),i.points.unshift(g.intersectRect(a,n)),i.points.push(g.intersectRect(o,r))})}function fixupEdgeLabelCoords(t){r.each(t.edges(),function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}function reversePointsForReversedEdges(t){r.each(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}function removeBorderNodes(t){r.each(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),a=t.node(n.borderBottom),o=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-o.x),n.height=Math.abs(a.y-i.y),n.x=o.x+n.width/2,n.y=i.y+n.height/2}}),r.each(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}function removeSelfEdges(t){r.each(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}function insertSelfEdges(t){var e=g.buildLayerMatrix(t);r.each(e,function(e){var n=0;r.each(e,function(e,i){var a=t.node(e);a.order=i+n,r.each(a.selfEdges,function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:a.rank,order:i+ ++n,e:e.e,label:e.label},"_se")}),delete a.selfEdges})})}function positionSelfEdges(t){r.each(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,a=r.y,o=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*o/3,y:a-s},{x:i+5*o/6,y:a-s},{x:i+o,y:a},{x:i+5*o/6,y:a+s},{x:i+2*o/3,y:a+s}],n.label.x=n.x,n.label.y=n.y}})}function selectNumberAttrs(t,e){return r.mapValues(r.pick(t,e),Number)}function canonicalize(t){var e={};return r.each(t,function(t,n){e[n.toLowerCase()]=t}),e}var r=n(0),i=n(18),a=n(26),o=n(39),s=n(1).normalizeRanks,u=n(36),h=n(1).removeEmptyRanks,l=n(25),c=n(19),f=n(20),d=n(31),p=n(38),g=n(1),m=n(3).Graph;t.exports=layout;var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],x=["width","height"],w={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},C=["labelpos"]},function(t,e,n){function run(t){var e=i.addDummyNode(t,"root",{},"_root"),n=treeDepths(t),a=r.max(n)-1,o=2*a+1;t.graph().nestingRoot=e,r.each(t.edges(),function(e){t.edge(e).minlen*=o});var s=sumWeights(t)+1;r.each(t.children(),function(r){dfs(t,e,o,s,a,n,r)}),t.graph().nodeRankFactor=o}function dfs(t,e,n,a,o,s,u){var h=t.children(u);if(!h.length)return void(u!==e&&t.setEdge(e,u,{weight:0,minlen:n}));var l=i.addBorderNode(t,"_bt"),c=i.addBorderNode(t,"_bb"),f=t.node(u);t.setParent(l,u),f.borderTop=l,t.setParent(c,u),f.borderBottom=c,r.each(h,function(r){dfs(t,e,n,a,o,s,r);var i=t.node(r),h=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,d=i.borderTop?a:2*a,p=h!==f?1:o-s[u]+1;t.setEdge(l,h,{weight:d,minlen:p,nestingEdge:!0}),t.setEdge(f,c,{weight:d,minlen:p,nestingEdge:!0})}),t.parent(u)||t.setEdge(e,l,{weight:0,minlen:o+s[u]})}function treeDepths(t){function dfs(n,i){var a=t.children(n);a&&a.length&&r.each(a,function(t){dfs(t,i+1)}),e[n]=i}var e={};return r.each(t.children(),function(t){dfs(t,1)}),e}function sumWeights(t){return r.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}function cleanup(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.each(t.edges(),function(e){t.edge(e).nestingEdge&&t.removeEdge(e)})}var r=n(0),i=n(1);t.exports={run:run,cleanup:cleanup}},function(t,e,n){"use strict";function run(t){t.graph().dummyChains=[],r.each(t.edges(),function(e){normalizeEdge(t,e)})}function normalizeEdge(t,e){var n=e.v,r=t.node(n).rank,a=e.w,o=t.node(a).rank,s=e.name,u=t.edge(e),h=u.labelRank;if(o!==r+1){t.removeEdge(e);var l,c,f;for(f=0,++r;r<o;++f,++r)u.points=[],c={width:0,height:0,edgeLabel:u,edgeObj:e,rank:r},l=i.addDummyNode(t,"edge",c,"_d"),r===h&&(c.width=u.width,c.height=u.height,c.dummy="edge-label",c.labelpos=u.labelpos),t.setEdge(n,l,{weight:u.weight},s),0===f&&t.graph().dummyChains.push(l),n=l;t.setEdge(n,a,{weight:u.weight},s)}}function undo(t){r.each(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}var r=n(0),i=n(1);t.exports={run:run,undo:undo}},function(t,e,n){function addSubgraphConstraints(t,e,n){var i,a={};r.each(n,function(n){for(var r,o,s=t.parent(n);s;){if(r=t.parent(s),r?(o=a[r],a[r]=s):(o=i,i=s),o&&o!==s)return void e.setEdge(o,s);s=r}})}var r=n(0);t.exports=addSubgraphConstraints},function(t,e,n){function barycenter(t,e){return r.map(e,function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}})}var r=n(0);t.exports=barycenter},function(t,e,n){function buildLayerGraph(t,e,n){var a=createRootNode(t),o=new i({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(e){return t.node(e)});return r.each(t.nodes(),function(i){var s=t.node(i),u=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(o.setNode(i),o.setParent(i,u||a),r.each(t[n](i),function(e){var n=e.v===i?e.w:e.v,a=o.edge(n,i),s=r.isUndefined(a)?0:a.weight;o.setEdge(n,i,{weight:t.edge(e).weight+s})}),r.has(s,"minRank")&&o.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))}),o}function createRootNode(t){for(var e;t.hasNode(e=r.uniqueId("_root")););return e}var r=n(0),i=n(3).Graph;t.exports=buildLayerGraph},function(t,e,n){"use strict";function crossCount(t,e){for(var n=0,r=1;r<e.length;++r)n+=twoLayerCrossCount(t,e[r-1],e[r]);return n}function twoLayerCrossCount(t,e,n){for(var i=r.zipObject(n,r.map(n,function(t,e){return e})),a=r.flatten(r.map(e,function(e){return r.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var s=2*o-1;o-=1;var u=r.map(new Array(s),function(){return 0}),h=0;return r.each(a.forEach(function(t){var e=t.pos+o;u[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=u[e+1]),e=e-1>>1,u[e]+=t.weight;h+=t.weight*n})),h}var r=n(0);t.exports=crossCount},function(t,e,n){"use strict";function order(t){var e=l.maxRank(t),n=buildLayerGraphs(t,r.range(1,e+1),"inEdges"),o=buildLayerGraphs(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);assignOrder(t,s);for(var u,h=Number.POSITIVE_INFINITY,c=0,f=0;f<4;++c,++f){sweepLayerGraphs(c%2?n:o,c%4>=2),s=l.buildLayerMatrix(t);var d=a(t,s);d<h&&(f=0,u=r.cloneDeep(s),h=d)}assignOrder(t,u)}function buildLayerGraphs(t,e,n){return r.map(e,function(e){return s(t,e,n)})}function sweepLayerGraphs(t,e){var n=new h;r.each(t,function(t){var i=t.graph().root,a=o(t,i,n,e);r.each(a.vs,function(e,n){t.node(e).order=n}),u(t,n,a.vs)})}function assignOrder(t,e){r.each(e,function(e){r.each(e,function(e,n){t.node(e).order=n})})}var r=n(0),i=n(32),a=n(30),o=n(34),s=n(29),u=n(27),h=n(3).Graph,l=n(1);t.exports=order},function(t,e,n){"use strict";function initOrder(t){function dfs(n){if(!r.has(e,n)){e[n]=!0;var i=t.node(n);a[i.rank].push(n),r.each(t.successors(n),dfs)}}var e={},n=r.filter(t.nodes(),function(e){return!t.children(e).length}),i=r.max(r.map(n,function(e){return t.node(e).rank})),a=r.map(r.range(i+1),function(){return[]}),o=r.sortBy(n,function(e){return t.node(e).rank});return r.each(o,dfs),a}var r=n(0);t.exports=initOrder},function(t,e,n){"use strict";function resolveConflicts(t,e){var n={};return r.each(t,function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)}),r.each(e.edges(),function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))}),doResolveConflicts(r.filter(n,function(t){return!t.indegree}))}function doResolveConflicts(t){for(var e=[];t.length;){var n=t.pop();e.push(n),r.each(n.in.reverse(),function(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&mergeEntries(t,e)}}(n)),r.each(n.out,function(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}(n))}return r.chain(e).filter(function(t){return!t.merged}).map(function(t){return r.pick(t,["vs","i","barycenter","weight"])}).value()}function mergeEntries(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}var r=n(0);t.exports=resolveConflicts},function(t,e,n){function sortSubgraph(t,e,n,s){var u=t.children(e),h=t.node(e),l=h?h.borderLeft:void 0,c=h?h.borderRight:void 0,f={};l&&(u=r.filter(u,function(t){return t!==l&&t!==c}));var d=i(t,u);r.each(d,function(e){if(t.children(e.v).length){var i=sortSubgraph(t,e.v,n,s);f[e.v]=i,r.has(i,"barycenter")&&mergeBarycenters(e,i)}});var p=a(d,n);expandSubgraphs(p,f);var g=o(p,s);if(l&&(g.vs=r.flatten([l,g.vs,c],!0),t.predecessors(l).length)){var m=t.node(t.predecessors(l)[0]),v=t.node(t.predecessors(c)[0]);r.has(g,"barycenter")||(g.barycenter=0,g.weight=0),g.barycenter=(g.barycenter*g.weight+m.order+v.order)/(g.weight+2),g.weight+=2}return g}function expandSubgraphs(t,e){r.each(t,function(t){t.vs=r.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}function mergeBarycenters(t,e){r.isUndefined(t.barycenter)?(t.barycenter=e.barycenter,t.weight=e.weight):(t.barycenter=(t.barycenter*t.weight+e.barycenter*e.weight)/(t.weight+e.weight),t.weight+=e.weight)}var r=n(0),i=n(28),a=n(33),o=n(35);t.exports=sortSubgraph},function(t,e,n){function sort(t,e){var n=i.partition(t,function(t){return r.has(t,"barycenter")}),a=n.lhs,o=r.sortBy(n.rhs,function(t){return-t.i}),s=[],u=0,h=0,l=0;a.sort(compareWithBias(!!e)),l=consumeUnsortable(s,o,l),r.each(a,function(t){l+=t.vs.length,s.push(t.vs),u+=t.barycenter*t.weight,h+=t.weight,l=consumeUnsortable(s,o,l)});var c={vs:r.flatten(s,!0)};return h&&(c.barycenter=u/h,c.weight=h),c}function consumeUnsortable(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}function compareWithBias(t){return function(e,n){return e.barycenter<n.barycenter?-1:e.barycenter>n.barycenter?1:t?n.i-e.i:e.i-n.i}}var r=n(0),i=n(1);t.exports=sort},function(t,e,n){function parentDummyChains(t){var e=postorder(t);r.each(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,a=findPath(t,e,i.v,i.w),o=a.path,s=a.lca,u=0,h=o[u],l=!0;n!==i.w;){if(r=t.node(n),l){for(;(h=o[u])!==s&&t.node(h).maxRank<r.rank;)u++;h===s&&(l=!1)}if(!l){for(;u<o.length-1&&t.node(h=o[u+1]).minRank<=r.rank;)u++;h=o[u]}t.setParent(n,h),n=t.successors(n)[0]}})}function findPath(t,e,n,r){var i,a,o=[],s=[],u=Math.min(e[n].low,e[r].low),h=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),o.push(i)}while(i&&(e[i].low>u||h>e[i].lim));for(a=i,i=r;(i=t.parent(i))!==a;)s.push(i);return{path:o.concat(s.reverse()),lca:a}}function postorder(t){function dfs(i){var a=n;r.each(t.children(i),dfs),e[i]={low:a,lim:n++}}var e={},n=0;return r.each(t.children(),dfs),e}var r=n(0);t.exports=parentDummyChains},function(t,e,n){"use strict";function findType1Conflicts(t,e){function visitLayer(e,i){var a=0,o=0,s=e.length,u=r.last(i);return r.each(i,function(e,h){var l=findOtherInnerSegmentNode(t,e),c=l?t.node(l).order:s;(l||e===u)&&(r.each(i.slice(o,h+1),function(e){r.each(t.predecessors(e),function(r){var i=t.node(r),o=i.order;!(o<a||c<o)||i.dummy&&t.node(e).dummy||addConflict(n,r,e)})}),o=h+1,a=c)}),i}var n={};return r.reduce(e,visitLayer),n}function findType2Conflicts(t,e){function scan(e,i,a,o,s){var u;r.each(r.range(i,a),function(i){u=e[i],t.node(u).dummy&&r.each(t.predecessors(u),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>s)&&addConflict(n,e,u)})})}function visitLayer(e,n){var i,a=-1,o=0;return r.each(n,function(r,s){if("border"===t.node(r).dummy){var u=t.predecessors(r);u.length&&(i=t.node(u[0]).order,scan(n,o,s,a,i),o=s,a=i)}scan(n,o,n.length,i,e.length)}),n}var n={};return r.reduce(e,visitLayer),n}function findOtherInnerSegmentNode(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),function(e){return t.node(e).dummy})}function addConflict(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function hasConflict(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function verticalAlignment(t,e,n,i){var a={},o={},s={};return r.each(e,function(t){r.each(t,function(t,e){a[t]=t,o[t]=t,s[t]=e})}),r.each(e,function(t){var e=-1;r.each(t,function(t){var u=i(t);if(u.length){u=r.sortBy(u,function(t){return s[t]});for(var h=(u.length-1)/2,l=Math.floor(h),c=Math.ceil(h);l<=c;++l){var f=u[l];o[t]===t&&e<s[f]&&!hasConflict(n,t,f)&&(o[f]=t,o[t]=a[t]=a[f],e=s[f])}}})}),{root:a,align:o}}function horizontalCompaction(t,e,n,i,a){function pass1(t){r.has(u,t)||(u[t]=!0,o[t]=r.reduce(s.inEdges(t),function(t,e){return pass1(e.v),Math.max(t,o[e.v]+s.edge(e))},0))}function pass2(e){if(2!==u[e]){u[e]++;var n=t.node(e),i=r.reduce(s.outEdges(e),function(t,e){return pass2(e.w),Math.min(t,o[e.w]-s.edge(e))},Number.POSITIVE_INFINITY);i!==Number.POSITIVE_INFINITY&&n.borderType!==h&&(o[e]=Math.max(o[e],i))}}var o={},s=buildBlockGraph(t,e,n,a),u={};r.each(s.nodes(),pass1);var h=a?"borderLeft":"borderRight";return r.each(s.nodes(),pass2),r.each(i,function(t){o[t]=o[n[t]]}),o}function buildBlockGraph(t,e,n,a){var o=new i,s=t.graph(),u=sep(s.nodesep,s.edgesep,a);return r.each(e,function(e){var i;r.each(e,function(e){var r=n[e];if(o.setNode(r),i){var a=n[i],s=o.edge(a,r);o.setEdge(a,r,Math.max(u(t,e,i),s||0))}i=e})}),o}function findSmallestWidthAlignment(t,e){return r.min(e,function(e){var n=r.min(e,function(e,n){return e-width(t,n)/2});return r.max(e,function(e,n){return e+width(t,n)/2})-n})}function alignCoordinates(t,e){var n=r.min(e),i=r.max(e);r.each(["u","d"],function(a){r.each(["l","r"],function(o){var s,u=a+o,h=t[u];h!==e&&(s="l"===o?n-r.min(h):i-r.max(h))&&(t[u]=r.mapValues(h,function(t){return t+s}))})})}function balance(t,e){return r.mapValues(t.ul,function(n,i){if(e)return t[e.toLowerCase()][i];var a=r.sortBy(r.pluck(t,i));return(a[1]+a[2])/2})}function positionX(t){var e,n=a.buildLayerMatrix(t),i=r.merge(findType1Conflicts(t,n),findType2Conflicts(t,n)),o={};r.each(["u","d"],function(a){e="u"===a?n:r.values(n).reverse(),r.each(["l","r"],function(n){"r"===n&&(e=r.map(e,function(t){return r.values(t).reverse()}));var s=r.bind("u"===a?t.predecessors:t.successors,t),u=verticalAlignment(t,e,i,s),h=horizontalCompaction(t,e,u.root,u.align,"r"===n);"r"===n&&(h=r.mapValues(h,function(t){return-t})),o[a+n]=h})});var s=findSmallestWidthAlignment(t,o);return alignCoordinates(o,s),balance(o,t.graph().align)}function sep(t,e,n){return function(i,a,o){var s,u=i.node(a),h=i.node(o),l=0;if(l+=u.width/2,r.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=-u.width/2;break;case"r":s=u.width/2}if(s&&(l+=n?s:-s),s=0,l+=(u.dummy?e:t)/2,l+=(h.dummy?e:t)/2,l+=h.width/2,r.has(h,"labelpos"))switch(h.labelpos.toLowerCase()){case"l":s=h.width/2;break;case"r":s=-h.width/2}return s&&(l+=n?s:-s),s=0,l}}function width(t,e){return t.node(e).width}var r=n(0),i=n(3).Graph,a=n(1);t.exports={positionX:positionX,findType1Conflicts:findType1Conflicts,findType2Conflicts:findType2Conflicts,addConflict:addConflict,hasConflict:hasConflict,verticalAlignment:verticalAlignment,horizontalCompaction:horizontalCompaction,alignCoordinates:alignCoordinates,findSmallestWidthAlignment:findSmallestWidthAlignment,balance:balance}},function(t,e,n){"use strict";function position(t){t=i.asNonCompoundGraph(t),positionY(t),r.each(a(t),function(e,n){t.node(n).x=e})}function positionY(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,a=0;r.each(e,function(e){var i=r.max(r.map(e,function(e){return t.node(e).height}));r.each(e,function(e){t.node(e).y=a+i/2}),a+=i+n})}var r=n(0),i=n(1),a=n(37).positionX;t.exports=position},function(t,e,n){"use strict";function rank(t){switch(t.graph().ranker){case"network-simplex":networkSimplexRanker(t);break;case"tight-tree":tightTreeRanker(t);break;case"longest-path":s(t);break;default:networkSimplexRanker(t)}}function tightTreeRanker(t){i(t),a(t)}function networkSimplexRanker(t){o(t)}var r=n(4),i=r.longestPath,a=n(6),o=n(40);t.exports=rank;var s=i},function(t,e,n){"use strict";function networkSimplex(t){t=h(t),o(t);var e=i(t);initLowLimValues(e),initCutValues(e,t);for(var n,r;n=leaveEdge(e);)r=enterEdge(e,t,n),exchangeEdges(e,t,n,r)}function initCutValues(t,e){var n=u(t,t.nodes());n=n.slice(0,n.length-1),r.each(n,function(n){assignCutValue(t,e,n)})}function assignCutValue(t,e,n){var r=t.node(n),i=r.parent;t.edge(n,i).cutvalue=calcCutValue(t,e,n)}function calcCutValue(t,e,n){var i=t.node(n),a=i.parent,o=!0,s=e.edge(n,a),u=0;return s||(o=!1,s=e.edge(a,n)),u=s.weight,r.each(e.nodeEdges(n),function(r){var i=r.v===n,s=i?r.w:r.v;if(s!==a){var h=i===o,l=e.edge(r).weight;if(u+=h?l:-l,isTreeEdge(t,n,s)){var c=t.edge(n,s).cutvalue;u+=h?-c:c}}}),u}function initLowLimValues(t,e){arguments.length<2&&(e=t.nodes()[0]),dfsAssignLowLim(t,{},1,e)}function dfsAssignLowLim(t,e,n,i,a){var o=n,s=t.node(i);return e[i]=!0,r.each(t.neighbors(i),function(a){r.has(e,a)||(n=dfsAssignLowLim(t,e,n,a,i))}),s.low=o,s.lim=n++,a?s.parent=a:delete s.parent,n}function leaveEdge(t){return r.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function enterEdge(t,e,n){var i=n.v,o=n.w;e.hasEdge(i,o)||(i=n.w,o=n.v);var s=t.node(i),u=t.node(o),h=s,l=!1;s.lim>u.lim&&(h=u,l=!0);var c=r.filter(e.edges(),function(e){return l===isDescendant(t,t.node(e.v),h)&&l!==isDescendant(t,t.node(e.w),h)});return r.min(c,function(t){return a(e,t)})}function exchangeEdges(t,e,n,r){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(r.v,r.w,{}),initLowLimValues(t),initCutValues(t,e),updateRanks(t,e)}function updateRanks(t,e){var n=r.find(t.nodes(),function(t){return!e.node(t).parent}),i=s(t,n);i=i.slice(1),r.each(i,function(n){var r=t.node(n).parent,i=e.edge(n,r),a=!1;i||(i=e.edge(r,n),a=!0),e.node(n).rank=e.node(r).rank+(a?i.minlen:-i.minlen)})}function isTreeEdge(t,e,n){return t.hasEdge(e,n)}function isDescendant(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}var r=n(0),i=n(6),a=n(4).slack,o=n(4).longestPath,s=n(3).alg.preorder,u=n(3).alg.postorder,h=n(1).simplify;t.exports=networkSimplex,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges},function(t,e){t.exports="0.7.4"},function(t,e,n){var r=n(52);t.exports={Graph:r.Graph,json:n(53),alg:n(47),version:r.version}},function(t,e,n){function components(t){function dfs(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),dfs),r.each(t.predecessors(i),dfs))}var e,n={},i=[];return r.each(t.nodes(),function(t){e=[],dfs(t),e.length&&i.push(e)}),i}var r=n(2);t.exports=components},function(t,e,n){function dijkstraAll(t,e,n){return i.transform(t.nodes(),function(i,a){i[a]=r(t,a,e,n)},{})}var r=n(8),i=n(2);t.exports=dijkstraAll},function(t,e,n){function findCycles(t){return r.filter(i(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})}var r=n(2),i=n(9);t.exports=findCycles},function(t,e,n){function floydWarshall(t,e,n){return runFloydWarshall(t,e||i,n||function(e){return t.outEdges(e)})}function runFloydWarshall(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,a=e(n);r[t][i]={distance:a,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var a=r[n];i.forEach(function(n){var r=a[t],i=e[n],o=a[n],s=r.distance+i.distance;s<o.distance&&(o.distance=s,o.predecessor=i.predecessor)})})}),r}var r=n(2);t.exports=floydWarshall;var i=r.constant(1)},function(t,e,n){t.exports={components:n(43),dijkstra:n(8),dijkstraAll:n(44),findCycles:n(45),floydWarshall:n(46),isAcyclic:n(48),postorder:n(49),preorder:n(50),prim:n(51),tarjan:n(9),topsort:n(10)}},function(t,e,n){function isAcyclic(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}var r=n(10);t.exports=isAcyclic},function(t,e,n){function postorder(t,e){return r(t,e,"post")}var r=n(7);t.exports=postorder},function(t,e,n){function preorder(t,e){return r(t,e,"pre")}var r=n(7);t.exports=preorder},function(t,e,n){function prim(t,e){function updateNeighbors(t){var r=t.v===n?t.w:t.v,i=u.priority(r);if(void 0!==i){var a=e(t);a<i&&(s[r]=n,u.decrease(r,a))}}var n,o=new i,s={},u=new a;if(0===t.nodeCount())return o;r.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),o.setNode(t)}),u.decrease(t.nodes()[0],0);for(var h=!1;u.size()>0;){if(n=u.removeMin(),r.has(s,n))o.setEdge(n,s[n]);else{if(h)throw new Error("Input graph is not connected: "+t);h=!0}t.nodeEdges(n).forEach(updateNeighbors)}return o}var r=n(2),i=n(5),a=n(11);t.exports=prim},function(t,e,n){t.exports={Graph:n(5),version:n(54)}},function(t,e,n){function write(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:writeNodes(t),edges:writeEdges(t)};return r.isUndefined(t.graph())||(e.value=r.clone(t.graph())),e}function writeNodes(t){return r.map(t.nodes(),function(e){var n=t.node(e),i=t.parent(e),a={v:e};return r.isUndefined(n)||(a.value=n),r.isUndefined(i)||(a.parent=i),a})}function writeEdges(t){return r.map(t.edges(),function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i})}function read(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),r.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}var r=n(2),i=n(5);t.exports={write:write,read:read}},function(t,e){t.exports="1.0.7"},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=keras-model-viewer.min.js.map